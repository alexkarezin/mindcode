    82 instructions before optimizations.
    10 instructions eliminated by Temp Variables Elimination (3 iterations).
    10 instructions eliminated by Dead Code Elimination (4 iterations).
     7 instructions eliminated by Conditional Jump Optimization (3 iterations).
     4 instructions eliminated by Single Step Elimination (2 passes, 5 iterations).
     4 instructions added by Loop Optimization (2 iterations).
     5 loops improved by LoopOptimizer.
     2 instructions eliminated by Data Flow Optimization (5 iterations).
     2 instructions eliminated by Unreachable Code Elimination (2 iterations).
     2 instructions updated by PropagateJumpTargets.
    46 instructions after optimizations.

Modifications by Temp Variables Elimination, pass 1, iteration 1:
 
     7 op greaterThan __tmp1 __fn0_index 0
     8 jump __label7 equal __tmp1 false
     9 op sub __tmp2 __fn0_index 1
-    * op idiv __tmp3 __tmp2 2
-    * set __fn0_parent __tmp3
-    * read __tmp4 ARRAY __fn0_index
-    * set __fn0_iv __tmp4
-    * read __tmp5 ARRAY __fn0_parent
-    * set __fn0_pv __tmp5
+   10 op idiv __fn0_parent __tmp2 2
+   11 read __fn0_iv ARRAY __fn0_index
+   12 read __fn0_pv ARRAY __fn0_parent
    13 op lessThan __tmp6 __fn0_pv __fn0_iv
    14 jump __label8 equal __tmp6 false
    15 write __fn0_pv ARRAY __fn0_index
 
    34 label __label10
    35 op greaterThan __tmp8 index 0
    36 jump __label12 equal __tmp8 false
-    * read __tmp9 ARRAY 0
-    * set x __tmp9
+   37 read x ARRAY 0
    38 read __tmp10 ARRAY index
    39 write __tmp10 ARRAY 0
    40 write x ARRAY index
-    * op sub __tmp11 index 1
-    * set index __tmp11
+   41 op sub index index 1
    42 label __label13
    43 set __fn1_index index
    44 set __fn1_parent 0
    45 label __label15
    46 op mul __tmp13 __fn1_parent 2
-    * op add __tmp14 __tmp13 1
-    * set __fn1_child __tmp14
+   47 op add __fn1_child __tmp13 1
    48 op lessThanEq __tmp15 __fn1_child __fn1_index
    49 jump __label17 equal __tmp15 false
-    * read __tmp16 ARRAY __fn1_child
-    * set __fn1_cv __tmp16
+   50 read __fn1_cv ARRAY __fn1_child
    51 op lessThan __tmp17 __fn1_child __fn1_index
    52 jump __label18 equal __tmp17 false
    53 op add __tmp20 __fn1_child 1
    54 read __tmp19 ARRAY __tmp20
    55 op lessThan __tmp21 __fn1_cv __tmp19
    56 jump __label20 equal __tmp21 false
-    * op add __tmp23 __fn1_child 1
-    * set __fn1_child __tmp23
-    * read __tmp24 ARRAY __fn1_child
-    * set __fn1_cv __tmp24
+   57 op add __fn1_child __fn1_child 1
+   58 read __fn1_cv ARRAY __fn1_child
    59 set __tmp22 __fn1_cv
    60 jump __label21 always
    61 label __label20
 
    66 label __label18
    67 set __tmp18 null
    68 label __label19
-    * read __tmp25 ARRAY __fn1_parent
-    * set __fn1_pv __tmp25
+   69 read __fn1_pv ARRAY __fn1_parent
    70 op lessThan __tmp26 __fn1_pv __fn1_cv
    71 jump __label22 equal __tmp26 false
    72 write __fn1_cv ARRAY __fn1_parent

Modifications by Dead Code Elimination, pass 1, iteration 1:
 
    15 write __fn0_pv ARRAY __fn0_index
    16 write __fn0_iv ARRAY __fn0_parent
    17 set __fn0_index __fn0_parent
-    * set __tmp7 __fn0_index
    18 jump __label9 always
    19 label __label8
    20 jump __label7 always
-    * set __tmp7 null
    21 label __label9
    22 label __label6
    23 jump __label5 always
    24 label __label7
-    * set __retval0 null
    25 label __label4
    26 label __label1
    27 op add i i 1
 
    58 label __label20
    59 set __tmp22 null
    60 label __label21
-    * set __tmp18 __tmp22
    61 jump __label19 always
    62 label __label18
-    * set __tmp18 null
    63 label __label19
    64 read __fn1_pv ARRAY __fn1_parent
    65 op lessThan __tmp26 __fn1_pv __fn1_cv
 
    67 write __fn1_cv ARRAY __fn1_parent
    68 write __fn1_pv ARRAY __fn1_child
    69 set __fn1_parent __fn1_child
-    * set __tmp27 __fn1_parent
    70 jump __label23 always
    71 label __label22
    72 jump __label17 always
-    * set __tmp27 null
    73 label __label23
    74 label __label16
    75 jump __label15 always
    76 label __label17
-    * set __retval12 null
    77 label __label14
    78 label __label11
    79 jump __label10 always

Modifications by Dead Code Elimination, pass 1, iteration 2:
 
    53 jump __label20 equal __tmp21 false
    54 op add __fn1_child __fn1_child 1
    55 read __fn1_cv ARRAY __fn1_child
-    * set __tmp22 __fn1_cv
    56 jump __label21 always
    57 label __label20
-    * set __tmp22 null
    58 label __label21
    59 jump __label19 always
    60 label __label18

Modifications by Conditional Jump Optimization, pass 2, iteration 1:
 
     4 label __label3
     5 set __fn0_index i
     6 label __label5
-    * op greaterThan __tmp1 __fn0_index 0
-    * jump __label7 equal __tmp1 false
+    7 jump __label7 lessThanEq __fn0_index 0
     8 op sub __tmp2 __fn0_index 1
     9 op idiv __fn0_parent __tmp2 2
    10 read __fn0_iv ARRAY __fn0_index
    11 read __fn0_pv ARRAY __fn0_parent
-    * op lessThan __tmp6 __fn0_pv __fn0_iv
-    * jump __label8 equal __tmp6 false
+   12 jump __label8 greaterThanEq __fn0_pv __fn0_iv
    13 write __fn0_pv ARRAY __fn0_index
    14 write __fn0_iv ARRAY __fn0_parent
    15 set __fn0_index __fn0_parent
 
    27 label __label2
    28 set index 511
    29 label __label10
-    * op greaterThan __tmp8 index 0
-    * jump __label12 equal __tmp8 false
+   30 jump __label12 lessThanEq index 0
    31 read x ARRAY 0
    32 read __tmp10 ARRAY index
    33 write __tmp10 ARRAY 0
 
    39 label __label15
    40 op mul __tmp13 __fn1_parent 2
    41 op add __fn1_child __tmp13 1
-    * op lessThanEq __tmp15 __fn1_child __fn1_index
-    * jump __label17 equal __tmp15 false
+   42 jump __label17 greaterThan __fn1_child __fn1_index
    43 read __fn1_cv ARRAY __fn1_child
-    * op lessThan __tmp17 __fn1_child __fn1_index
-    * jump __label18 equal __tmp17 false
+   44 jump __label18 greaterThanEq __fn1_child __fn1_index
    45 op add __tmp20 __fn1_child 1
    46 read __tmp19 ARRAY __tmp20
-    * op lessThan __tmp21 __fn1_cv __tmp19
-    * jump __label20 equal __tmp21 false
+   47 jump __label20 greaterThanEq __fn1_cv __tmp19
    48 op add __fn1_child __fn1_child 1
    49 read __fn1_cv ARRAY __fn1_child
    50 jump __label21 always
 
    54 label __label18
    55 label __label19
    56 read __fn1_pv ARRAY __fn1_parent
-    * op lessThan __tmp26 __fn1_pv __fn1_cv
-    * jump __label22 equal __tmp26 false
+   57 jump __label22 greaterThanEq __fn1_pv __fn1_cv
    58 write __fn1_cv ARRAY __fn1_parent
    59 write __fn1_pv ARRAY __fn1_child
    60 set __fn1_parent __fn1_child

Modifications by Single Step Elimination, pass 2, iteration 1:
 
    47 jump __label20 greaterThanEq __fn1_cv __tmp19
    48 op add __fn1_child __fn1_child 1
    49 read __fn1_cv ARRAY __fn1_child
-    * jump __label21 always
    50 label __label20
    51 label __label21
-    * jump __label19 always
    52 label __label18
    53 label __label19
    54 read __fn1_pv ARRAY __fn1_parent

Modifications by Loop Optimization, pass 2, iteration 1:
     0 set ARRAY bank2
     1 set i 1
     2 label __label0
-    * jump __label2 greaterThanEq i 512
+    3 label __label27
     4 label __label3
     5 set __fn0_index i
     6 label __label5
     7 jump __label7 lessThanEq __fn0_index 0
+    8 label __label28
     9 op sub __tmp2 __fn0_index 1
    10 op idiv __fn0_parent __tmp2 2
    11 read __fn0_iv ARRAY __fn0_index
 
    19 jump __label7 always
    20 label __label9
    21 label __label6
-    * jump __label5 always
+   22 jump __label28 greaterThan __fn0_index 0
    23 label __label7
    24 label __label4
    25 label __label1
    26 op add i i 1
-    * jump __label0 always
+   27 jump __label27 lessThan i 512
    28 label __label2
    29 set index 511
    30 label __label10
-    * jump __label12 lessThanEq index 0
+   31 label __label29
    32 read x ARRAY 0
    33 read __tmp10 ARRAY index
    34 write __tmp10 ARRAY 0
 
    41 op mul __tmp13 __fn1_parent 2
    42 op add __fn1_child __tmp13 1
    43 jump __label17 greaterThan __fn1_child __fn1_index
+   44 label __label30
    45 read __fn1_cv ARRAY __fn1_child
    46 jump __label18 greaterThanEq __fn1_child __fn1_index
    47 op add __tmp20 __fn1_child 1
 
    63 jump __label17 always
    64 label __label23
    65 label __label16
-    * jump __label15 always
+   66 op mul __tmp13 __fn1_parent 2
+   67 op add __fn1_child __tmp13 1
+   68 jump __label30 lessThanEq __fn1_child __fn1_index
    69 label __label17
    70 label __label14
    71 label __label11
-    * jump __label10 always
+   72 jump __label29 greaterThan index 0
    73 label __label12
    74 set i 0
    75 label __label24
-    * jump __label26 greaterThanEq i 512
+   76 label __label31
    77 read __tmp28 ARRAY i
    78 print __tmp28
    79 label __label25
    80 op add i i 1
-    * jump __label24 always
+   81 jump __label31 lessThan i 512
    82 label __label26
    83 end

Modifications by Data Flow Optimization, pass 2, iteration 1:
 
     4 label __label3
     5 set __fn0_index i
     6 label __label5
-    * jump __label7 lessThanEq __fn0_index 0
+    7 jump __label7 lessThanEq i 0
     8 label __label28
     9 op sub __tmp2 __fn0_index 1
    10 op idiv __fn0_parent __tmp2 2
 
    19 jump __label7 always
    20 label __label9
    21 label __label6
-    * jump __label28 greaterThan __fn0_index 0
+   22 jump __label28 greaterThan __fn0_parent 0
    23 label __label7
    24 label __label4
    25 label __label1
 
    38 set __fn1_index index
    39 set __fn1_parent 0
    40 label __label15
-    * op mul __tmp13 __fn1_parent 2
+   41 op mul __tmp13 0 2
    42 op add __fn1_child __tmp13 1
-    * jump __label17 greaterThan __fn1_child __fn1_index
+   43 jump __label17 greaterThan __fn1_child index
    44 label __label30
    45 read __fn1_cv ARRAY __fn1_child
-    * jump __label18 greaterThanEq __fn1_child __fn1_index
+   46 jump __label18 greaterThanEq __fn1_child index
    47 op add __tmp20 __fn1_child 1
    48 read __tmp19 ARRAY __tmp20
    49 jump __label20 greaterThanEq __fn1_cv __tmp19
 
    63 jump __label17 always
    64 label __label23
    65 label __label16
-    * op mul __tmp13 __fn1_parent 2
+   66 op mul __tmp13 __fn1_child 2
    67 op add __fn1_child __tmp13 1
-    * jump __label30 lessThanEq __fn1_child __fn1_index
+   68 jump __label30 lessThanEq __fn1_child index
    69 label __label17
    70 label __label14
    71 label __label11

Modifications by Data Flow Optimization, pass 2, iteration 2:
 
    35 write x ARRAY index
    36 op sub index index 1
    37 label __label13
-    * set __fn1_index index
    38 set __fn1_parent 0
    39 label __label15
    40 op mul __tmp13 0 2
-    * op add __fn1_child __tmp13 1
+   41 op add __fn1_child 0 1
    42 jump __label17 greaterThan __fn1_child index
    43 label __label30
    44 read __fn1_cv ARRAY __fn1_child

Modifications by Data Flow Optimization, pass 2, iteration 3:
 
    37 label __label13
    38 set __fn1_parent 0
    39 label __label15
-    * op mul __tmp13 0 2
    40 op add __fn1_child 0 1
-    * jump __label17 greaterThan __fn1_child index
+   41 jump __label17 greaterThan 1 index
    42 label __label30
    43 read __fn1_cv ARRAY __fn1_child
    44 jump __label18 greaterThanEq __fn1_child index

Modifications by Jump Threading, pass 3, iteration 1:
 
    10 op idiv __fn0_parent __tmp2 2
    11 read __fn0_iv ARRAY __fn0_index
    12 read __fn0_pv ARRAY __fn0_parent
-    * jump __label8 greaterThanEq __fn0_pv __fn0_iv
+   13 jump __label7 greaterThanEq __fn0_pv __fn0_iv
    14 write __fn0_pv ARRAY __fn0_index
    15 write __fn0_iv ARRAY __fn0_parent
    16 set __fn0_index __fn0_parent
 
    52 label __label18
    53 label __label19
    54 read __fn1_pv ARRAY __fn1_parent
-    * jump __label22 greaterThanEq __fn1_pv __fn1_cv
+   55 jump __label17 greaterThanEq __fn1_pv __fn1_cv
    56 write __fn1_cv ARRAY __fn1_parent
    57 write __fn1_pv ARRAY __fn1_child
    58 set __fn1_parent __fn1_child

Modifications by Unreachable Code Elimination, pass 3, iteration 1:
 
    16 set __fn0_index __fn0_parent
    17 jump __label9 always
    18 label __label8
-    * jump __label7 always
    19 label __label9
    20 label __label6
    21 jump __label28 greaterThan __fn0_parent 0
 
    57 set __fn1_parent __fn1_child
    58 jump __label23 always
    59 label __label22
-    * jump __label17 always
    60 label __label23
    61 label __label16
    62 op mul __tmp13 __fn1_child 2

Modifications by Single Step Elimination, pass 3, iteration 1:
 
    14 write __fn0_pv ARRAY __fn0_index
    15 write __fn0_iv ARRAY __fn0_parent
    16 set __fn0_index __fn0_parent
-    * jump __label9 always
    17 label __label8
    18 label __label9
    19 label __label6
 
    54 write __fn1_cv ARRAY __fn1_parent
    55 write __fn1_pv ARRAY __fn1_child
    56 set __fn1_parent __fn1_child
-    * jump __label23 always
    57 label __label22
    58 label __label23
    59 label __label16

Final code before resolving virtual instructions:

set ARRAY bank2
set i 1
label __label0
label __label27
label __label3
set __fn0_index i
label __label5
jump __label7 lessThanEq i 0
label __label28
op sub __tmp2 __fn0_index 1
op idiv __fn0_parent __tmp2 2
read __fn0_iv ARRAY __fn0_index
read __fn0_pv ARRAY __fn0_parent
jump __label7 greaterThanEq __fn0_pv __fn0_iv
write __fn0_pv ARRAY __fn0_index
write __fn0_iv ARRAY __fn0_parent
set __fn0_index __fn0_parent
label __label8
label __label9
label __label6
jump __label28 greaterThan __fn0_parent 0
label __label7
label __label4
label __label1
op add i i 1
jump __label27 lessThan i 512
label __label2
set index 511
label __label10
label __label29
read x ARRAY 0
read __tmp10 ARRAY index
write __tmp10 ARRAY 0
write x ARRAY index
op sub index index 1
label __label13
set __fn1_parent 0
label __label15
op add __fn1_child 0 1
jump __label17 greaterThan 1 index
label __label30
read __fn1_cv ARRAY __fn1_child
jump __label18 greaterThanEq __fn1_child index
op add __tmp20 __fn1_child 1
read __tmp19 ARRAY __tmp20
jump __label20 greaterThanEq __fn1_cv __tmp19
op add __fn1_child __fn1_child 1
read __fn1_cv ARRAY __fn1_child
label __label20
label __label21
label __label18
label __label19
read __fn1_pv ARRAY __fn1_parent
jump __label17 greaterThanEq __fn1_pv __fn1_cv
write __fn1_cv ARRAY __fn1_parent
write __fn1_pv ARRAY __fn1_child
set __fn1_parent __fn1_child
label __label22
label __label23
label __label16
op mul __tmp13 __fn1_child 2
op add __fn1_child __tmp13 1
jump __label30 lessThanEq __fn1_child index
label __label17
label __label14
label __label11
jump __label29 greaterThan index 0
label __label12
set i 0
label __label24
label __label31
read __tmp28 ARRAY i
print __tmp28
label __label25
op add i i 1
jump __label31 lessThan i 512
label __label26
end
