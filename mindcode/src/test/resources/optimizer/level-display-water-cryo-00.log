   124 instructions before optimizations.
     9 instructions eliminated by DeadCodeEliminator (1 iterations).
     3 instructions eliminated by SingleStepJumpEliminator (1 iterations).
     9 instructions eliminated by OutputTempEliminator.
     4 instructions eliminated by ImproveNegativeConditionalJumps.
     4 instructions eliminated by JumpOverJumpEliminator.
     2 loops improved by LoopOptimizer.
     1 instructions added by LoopOptimizer.
     4 instructions eliminated by DataFlowOptimizer (2 iterations).
    92 instructions after optimizations.

Modifications by DeadCodeEliminator, iteration 1:
 
    27 jump __label7 always
    28 label __label8
    29 set MESSAGE block
-    * set __tmp10 MESSAGE
    30 jump __label6 always
    31 label __label7
    32 jump __label10 equal __ast0 @switch
    33 jump __label9 always
    34 label __label10
    35 set SWITCH block
-    * set __tmp10 SWITCH
    36 jump __label6 always
    37 label __label9
    38 jump __label12 equal __ast0 @liquid-tank
 
    40 label __label12
    41 set TANK_CRYO TANK_WATER
    42 set TANK_WATER block
-    * set __tmp10 TANK_WATER
    43 jump __label6 always
    44 label __label11
    45 jump __label14 equal __ast0 @logic-display
    46 jump __label13 always
    47 label __label14
    48 set DISPLAY block
-    * set __tmp10 DISPLAY
    49 jump __label6 always
    50 label __label13
-    * set __tmp10 null
    51 label __label6
    52 label __label4
    53 jump __label3 always
 
    63 op equal __tmp11 TANK_CRYO null
    64 jump __label15 equal __tmp11 false
    65 print "\nNo cryofluid or water tank."
-    * set __tmp12 "\nNo cryofluid or water tank."
    66 jump __label16 always
    67 label __label15
-    * set __tmp12 null
    68 label __label16
    69 op equal __tmp13 DISPLAY null
    70 jump __label17 equal __tmp13 false
    71 print "\nNo display."
-    * set __tmp14 "\nNo display."
    72 jump __label18 always
    73 label __label17
-    * set __tmp14 null
    74 label __label18
    75 printflush MESSAGE
    76 label __label1

Modifications by SingleStepJumpEliminator, iteration 1:
 
    46 jump __label13 always
    47 label __label14
    48 set DISPLAY block
-    * jump __label6 always
    49 label __label13
    50 label __label6
    51 label __label4
 
    62 op equal __tmp11 TANK_CRYO null
    63 jump __label15 equal __tmp11 false
    64 print "\nNo cryofluid or water tank."
-    * jump __label16 always
    65 label __label15
    66 label __label16
    67 op equal __tmp13 DISPLAY null
    68 jump __label17 equal __tmp13 false
    69 print "\nNo display."
-    * jump __label18 always
    70 label __label17
    71 label __label18
    72 printflush MESSAGE

Modifications by OutputTempEliminator, iteration 1:
 
    10 op or __tmp4 __tmp2 __tmp3
    11 jump __label2 equal __tmp4 false
    12 print "Water and Cryofluid Level Meter"
-    * set __tmp5 @links
-    * set n __tmp5
+   13 set n @links
    14 label __label3
    15 op greaterThan __tmp6 n 0
    16 jump __label5 equal __tmp6 false
-    * op sub __tmp7 n 1
-    * set n __tmp7
-    * getlink __tmp8 n
-    * set block __tmp8
+   17 op sub n n 1
+   18 getlink block n
    19 print "\nFound: "
    20 print block
-    * sensor __tmp9 block @type
-    * set __ast0 __tmp9
+   21 sensor __ast0 block @type
    22 jump __label8 equal __ast0 @message
    23 jump __label7 always
    24 label __label8
 
    75 sensor __tmp15 SWITCH @enabled
    76 op equal __tmp16 __tmp15 0
    77 jump __label21 equal __tmp16 false
-    * set __tmp17 @time
-    * set start_time __tmp17
+   78 set start_time @time
    79 draw clear 0 0 0
    80 draw color 255 255 255 255
    81 draw image 20 10 @water 16 0
 
    83 draw color 90 100 170 255
    84 draw rect 14 20 12 55
    85 draw color 255 255 16 255
-    * sensor __tmp18 TANK_WATER @totalLiquids
-    * set water __tmp18
+   86 sensor water TANK_WATER @totalLiquids
    87 op mul __tmp19 water MULTIPLIER
-    * op add __tmp20 __tmp19 20
-    * set pos __tmp20
+   88 op add pos __tmp19 20
    89 op add __tmp21 pos 7
    90 op sub __tmp22 pos 7
    91 draw triangle 6 __tmp21 14 pos 6 __tmp22
 
    95 draw color 110 200 230 255
    96 draw rect 54 20 12 55
    97 draw color 255 255 16 255
-    * sensor __tmp25 TANK_CRYO @totalLiquids
-    * set cryo __tmp25
+   98 sensor cryo TANK_CRYO @totalLiquids
    99 op mul __tmp26 cryo MULTIPLIER
-    * op add __tmp27 __tmp26 20
-    * set pos __tmp27
+  100 op add pos __tmp26 20
   101 op add __tmp28 pos 7
   102 op sub __tmp29 pos 7
   103 draw triangle 46 __tmp28 54 pos 46 __tmp29

Modifications by ImproveNegativeConditionalJumps, iteration 1:
 
    12 print "Water and Cryofluid Level Meter"
    13 set n @links
    14 label __label3
-    * op greaterThan __tmp6 n 0
-    * jump __label5 equal __tmp6 false
+   15 jump __label5 lessThanEq n 0
    16 op sub n n 1
    17 getlink block n
    18 print "\nFound: "
 
    54 print TANK_WATER
    55 print "\nCryo tank: "
    56 print TANK_CRYO
-    * op equal __tmp11 TANK_CRYO null
-    * jump __label15 equal __tmp11 false
+   57 jump __label15 notEqual TANK_CRYO null
    58 print "\nNo cryofluid or water tank."
    59 label __label15
    60 label __label16
-    * op equal __tmp13 DISPLAY null
-    * jump __label17 equal __tmp13 false
+   61 jump __label17 notEqual DISPLAY null
    62 print "\nNo display."
    63 label __label17
    64 label __label18
 
    70 control enabled SWITCH 0
    71 label __label19
    72 sensor __tmp15 SWITCH @enabled
-    * op equal __tmp16 __tmp15 0
-    * jump __label21 equal __tmp16 false
+   73 jump __label21 notEqual __tmp15 0
    74 set start_time @time
    75 draw clear 0 0 0
    76 draw color 255 255 255 255

Modifications by JumpOverJumpEliminator, iteration 1:
 
    18 print "\nFound: "
    19 print block
    20 sensor __ast0 block @type
-    * jump __label8 equal __ast0 @message
-    * jump __label7 always
+   21 jump __label7 notEqual __ast0 @message
    22 label __label8
    23 set MESSAGE block
    24 jump __label6 always
    25 label __label7
-    * jump __label10 equal __ast0 @switch
-    * jump __label9 always
+   26 jump __label9 notEqual __ast0 @switch
    27 label __label10
    28 set SWITCH block
    29 jump __label6 always
    30 label __label9
-    * jump __label12 equal __ast0 @liquid-tank
-    * jump __label11 always
+   31 jump __label11 notEqual __ast0 @liquid-tank
    32 label __label12
    33 set TANK_CRYO TANK_WATER
    34 set TANK_WATER block
    35 jump __label6 always
    36 label __label11
-    * jump __label14 equal __ast0 @logic-display
-    * jump __label13 always
+   37 jump __label13 notEqual __ast0 @logic-display
    38 label __label14
    39 set DISPLAY block
    40 label __label13

Modifications by LoopOptimizer, iteration 1:
 
    13 set n @links
    14 label __label3
    15 jump __label5 lessThanEq n 0
+   16 label __label22
    17 op sub n n 1
    18 getlink block n
    19 print "\nFound: "
 
    41 label __label13
    42 label __label6
    43 label __label4
-    * jump __label3 always
+   44 jump __label22 greaterThan n 0
    45 label __label5
    46 print "\nMessage: "
    47 print MESSAGE
 
    68 label __label19
    69 sensor __tmp15 SWITCH @enabled
    70 jump __label21 notEqual __tmp15 0
+   71 label __label23
    72 set start_time @time
    73 draw clear 0 0 0
    74 draw color 255 255 255 255
 
   113 print __tmp36
   114 printflush MESSAGE
   115 label __label20
-    * jump __label19 always
+  116 sensor __tmp15 SWITCH @enabled
+  117 jump __label23 equal __tmp15 0
   118 label __label21
   119 end

Modifications by DataFlowOptimizer, iteration 1:
 
    80 sensor water TANK_WATER @totalLiquids
    81 op mul __tmp19 water MULTIPLIER
    82 op add pos __tmp19 20
-    * op add __tmp21 pos 7
-    * op sub __tmp22 pos 7
+   83 op add __tmp21 __tmp19 27
+   84 op add __tmp22 __tmp19 13
    85 draw triangle 6 __tmp21 14 pos 6 __tmp22
-    * op add __tmp23 pos 7
-    * op sub __tmp24 pos 7
-    * draw triangle 34 __tmp23 26 pos 34 __tmp24
+   86 op add __tmp23 __tmp19 27
+   87 op add __tmp24 __tmp19 13
+   88 draw triangle 34 __tmp21 26 pos 34 __tmp22
    89 draw color 110 200 230 255
    90 draw rect 54 20 12 55
    91 draw color 255 255 16 255
    92 sensor cryo TANK_CRYO @totalLiquids
    93 op mul __tmp26 cryo MULTIPLIER
    94 op add pos __tmp26 20
-    * op add __tmp28 pos 7
-    * op sub __tmp29 pos 7
+   95 op add __tmp28 __tmp26 27
+   96 op add __tmp29 __tmp26 13
    97 draw triangle 46 __tmp28 54 pos 46 __tmp29
-    * op add __tmp30 pos 7
-    * op sub __tmp31 pos 7
-    * draw triangle 74 __tmp30 66 pos 74 __tmp31
+   98 op add __tmp30 __tmp26 27
+   99 op add __tmp31 __tmp26 13
+  100 draw triangle 74 __tmp28 66 pos 74 __tmp29
   101 drawflush DISPLAY
   102 print "Water and Cryofluid Level Meter"
   103 op mul __tmp32 100 water

Modifications by DataFlowOptimizer, iteration 2:
 
    83 op add __tmp21 __tmp19 27
    84 op add __tmp22 __tmp19 13
    85 draw triangle 6 __tmp21 14 pos 6 __tmp22
-    * op add __tmp23 __tmp19 27
-    * op add __tmp24 __tmp19 13
    86 draw triangle 34 __tmp21 26 pos 34 __tmp22
    87 draw color 110 200 230 255
    88 draw rect 54 20 12 55
 
    93 op add __tmp28 __tmp26 27
    94 op add __tmp29 __tmp26 13
    95 draw triangle 46 __tmp28 54 pos 46 __tmp29
-    * op add __tmp30 __tmp26 27
-    * op add __tmp31 __tmp26 13
    96 draw triangle 74 __tmp28 66 pos 74 __tmp29
    97 drawflush DISPLAY
    98 print "Water and Cryofluid Level Meter"

Final code before resolving virtual instructions:

set TANK_WATER null
set TANK_CRYO null
set MESSAGE null
set SWITCH null
set DISPLAY null
label __label0
op equal __tmp0 TANK_CRYO null
op equal __tmp1 TANK_WATER null
op or __tmp2 __tmp0 __tmp1
op equal __tmp3 DISPLAY null
op or __tmp4 __tmp2 __tmp3
jump __label2 equal __tmp4 false
print "Water and Cryofluid Level Meter"
set n @links
label __label3
jump __label5 lessThanEq n 0
label __label22
op sub n n 1
getlink block n
print "\nFound: "
print block
sensor __ast0 block @type
jump __label7 notEqual __ast0 @message
label __label8
set MESSAGE block
jump __label6 always 0 0
label __label7
jump __label9 notEqual __ast0 @switch
label __label10
set SWITCH block
jump __label6 always 0 0
label __label9
jump __label11 notEqual __ast0 @liquid-tank
label __label12
set TANK_CRYO TANK_WATER
set TANK_WATER block
jump __label6 always 0 0
label __label11
jump __label13 notEqual __ast0 @logic-display
label __label14
set DISPLAY block
label __label13
label __label6
label __label4
jump __label22 greaterThan n 0
label __label5
print "\nMessage: "
print MESSAGE
print "\nSwitch: "
print SWITCH
print "\nWater tank: "
print TANK_WATER
print "\nCryo tank: "
print TANK_CRYO
jump __label15 notEqual TANK_CRYO null
print "\nNo cryofluid or water tank."
label __label15
label __label16
jump __label17 notEqual DISPLAY null
print "\nNo display."
label __label17
label __label18
printflush MESSAGE
label __label1
jump __label0 always 0 0
label __label2
set MULTIPLIER 0.03666666666666667
control enabled SWITCH 0 0 0 0
label __label19
sensor __tmp15 SWITCH @enabled
jump __label21 notEqual __tmp15 0
label __label23
set start_time @time
draw clear 0 0 0 0 0 0
draw color 255 255 255 255 0 0
draw image 20 10 @water 16 0 0
draw image 60 10 @cryofluid 16 0 0
draw color 90 100 170 255 0 0
draw rect 14 20 12 55 0 0
draw color 255 255 16 255 0 0
sensor water TANK_WATER @totalLiquids
op mul __tmp19 water MULTIPLIER
op add pos __tmp19 20
op add __tmp21 __tmp19 27
op add __tmp22 __tmp19 13
draw triangle 6 __tmp21 14 pos 6 __tmp22
draw triangle 34 __tmp21 26 pos 34 __tmp22
draw color 110 200 230 255 0 0
draw rect 54 20 12 55 0 0
draw color 255 255 16 255 0 0
sensor cryo TANK_CRYO @totalLiquids
op mul __tmp26 cryo MULTIPLIER
op add pos __tmp26 20
op add __tmp28 __tmp26 27
op add __tmp29 __tmp26 13
draw triangle 46 __tmp28 54 pos 46 __tmp29
draw triangle 74 __tmp28 66 pos 74 __tmp29
drawflush DISPLAY
print "Water and Cryofluid Level Meter"
op mul __tmp32 100 water
op idiv __tmp33 __tmp32 100
print "\nWater level: "
print __tmp33
op mul __tmp34 100 cryo
op idiv __tmp35 __tmp34 100
print "\nCryofluid level: "
print __tmp35
op sub __tmp36 @time start_time
print "\nElapsed: "
print __tmp36
printflush MESSAGE
label __label20
sensor __tmp15 SWITCH @enabled
jump __label23 equal __tmp15 0
label __label21
end
