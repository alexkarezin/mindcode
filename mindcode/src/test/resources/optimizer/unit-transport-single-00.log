   575 instructions before optimizations.
     5 instructions eliminated by ConditionalJumpsNormalizer.
    84 instructions eliminated by DeadCodeEliminator (4 iterations).
    22 instructions eliminated by SingleStepJumpEliminator (1 iterations).
    36 instructions eliminated by OutputTempEliminator.
    42 instructions eliminated by ImproveNegativeConditionalJumps.
     5 instructions eliminated by JumpOverJumpEliminator.
     2 instructions eliminated by ImprovePositiveConditionalJumps.
     5 loops improved by LoopOptimizer.
     5 instructions added by LoopOptimizer.
     3 instructions eliminated by IfExpressionOptimizer.
     9 instructions updated by PropagateJumpTargets.
     5 instructions eliminated by UnreachableCodeEliminator (1 iterations).
     5 instructions eliminated by SingleStepJumpEliminator (1 iterations).
     8 instructions eliminated by PrintMerger.
   363 instructions after optimizations.

Modifications by ConditionalJumpsNormalizer, iteration 1:
 
    25 label __label6
    26 set __fn0_first_unit null
    27 label __label8
-    * jump __label10 equal true false
    28 ubind UNIT
    29 op notEqual __tmp8 @unit null
    30 jump __label11 equal __tmp8 false
 
    65 label __label15
    66 label __label18
    67 label __label20
-    * jump __label22 equal true false
    68 ubind UNIT
    69 op equal __tmp18 @unit null
    70 jump __label23 equal __tmp18 false
 
   107 set SPEED_SEC __tmp25
   108 ucontrol flag 1
   109 label __label27
-    * jump __label29 equal true false
   110 set CONTAINER null
   111 set DROP_TARGET null
   112 set n @links
 
   356 set state 1
   357 ucontrol stop
   358 label __label68
-    * jump __label70 equal true false
   359 set start @time
   360 sensor __tmp106 @unit @dead
   361 op strictEqual __tmp107 __tmp106 0
 
   365 jump __label71 equal __tmp110 false
   366 label __label73
   367 label __label75
-    * jump __label77 equal true false
   368 ubind UNIT
   369 op equal __tmp113 @unit null
   370 jump __label78 equal __tmp113 false

Modifications by DeadCodeEliminator, iteration 1:
 
    30 jump __label11 equal __tmp8 false
    31 set __fn0_first_unit @unit
    32 jump __label10 always
-    * set __tmp9 null
    33 jump __label12 always
    34 label __label11
-    * set __tmp9 null
    35 label __label12
    36 print "[salmon]No unit of type "
    37 print UNIT
 
    44 sensor __tmp10 @unit @controller
    45 op equal __tmp11 __tmp10 @this
    46 jump __label16 equal __tmp11 false
-    * set __retval7 null
    47 jump __label7 always
-    * set __tmp12 null
    48 jump __label17 always
    49 label __label16
-    * set __tmp12 null
    50 label __label17
    51 ubind UNIT
    52 print "[gold]Looking for old unit..."
 
    66 print "[salmon]No unit of type "
    67 print UNIT
    68 print " found. 2"
-    * set __tmp19 null
    69 jump __label24 always
    70 label __label23
    71 sensor __tmp20 @unit @controlled
 
    81 jump __label19 always
    82 set __tmp22 null
    83 label __label26
-    * set __tmp19 __tmp22
    84 label __label24
    85 printflush message1
    86 label __label21
 
    88 label __label22
    89 set __retval17 null
    90 label __label19
-    * set __retval7 __retval17
    91 label __label7
    92 label __label4
    93 jump __label3 always
 
   114 jump __label33 equal __tmp30 false
   115 set DROP_TARGET CONTAINER
   116 set CONTAINER block
-    * set __tmp31 block
   117 jump __label34 always
   118 label __label33
-    * set __tmp31 null
   119 label __label34
   120 label __label31
   121 jump __label30 always
 
   124 jump __label35 equal __tmp32 false
   125 print "[salmon]No destination."
   126 print "\n"
-    * set __tmp33 "[salmon]No destination."
   127 jump __label36 always
   128 label __label35
   129 op notEqual __tmp34 DROP_TARGET null
 
   144 jump __label29 always
   145 set __tmp38 null
   146 label __label38
-    * set __tmp33 __tmp38
   147 label __label36
   148 printflush message1
   149 label __label28
 
   156 printflush message1
   157 ulocate building core false @copper CORE_X CORE_Y __tmp42 __tmp41
   158 set CORE __tmp41
-    * set __tmp40 __tmp41
   159 jump __label40 always
   160 label __label39
   161 print "[gold]Locating vault #"
 
   212 label __label44
   213 set __tmp50 null
   214 label __label45
-    * set __tmp40 __tmp50
   215 label __label40
   216 op equal __tmp63 CORE null
   217 jump __label51 equal __tmp63 false
   218 end
-    * set __tmp64 null
   219 jump __label52 always
   220 label __label51
-    * set __tmp64 null
   221 label __label52
   222 set SORTER sorter1
   223 sensor __tmp65 SORTER @type
 
   233 jump __label56 equal __tmp69 false
   234 print "Block found: "
   235 print SORTER
-    * set __tmp70 SORTER
   236 jump __label57 always
   237 label __label56
-    * set __tmp70 null
   238 label __label57
   239 printflush message1
   240 set SORTER sorter1
 
   269 set __tmp82 "[] from vault #"
   270 label __label61
   271 set DIRECTION __tmp82
-    * set __tmp73 __tmp82
   272 jump __label59 always
   273 label __label58
   274 op greaterThan __tmp83 LINK_ID 0
 
   299 set __tmp95 "[] to vault #"
   300 label __label63
   301 set DIRECTION __tmp95
-    * set __tmp73 __tmp95
   302 label __label59
   303 op equal __tmp96 LINK_ID 0
   304 jump __label64 equal __tmp96 false
 
   321 set DROP_TARGET CORE
   322 set DROP_X CORE_X
   323 set DROP_Y CORE_Y
-    * set __tmp103 CORE_Y
   324 jump __label67 always
   325 label __label66
   326 sensor __tmp104 DROP_TARGET @x
   327 set DROP_X __tmp104
   328 sensor __tmp105 DROP_TARGET @y
   329 set DROP_Y __tmp105
-    * set __tmp103 __tmp105
   330 label __label67
   331 set LAST_ITEM @mono
   332 set iter 0
 
   349 print "[salmon]No unit of type "
   350 print UNIT
   351 print " found. 2"
-    * set __tmp114 null
   352 jump __label79 always
   353 label __label78
   354 sensor __tmp115 @unit @controlled
 
   360 set __tmp117 null
   361 jump __label81 always
   362 label __label80
-    * set __retval112 null
   363 jump __label74 always
   364 set __tmp117 null
   365 label __label81
-    * set __tmp114 __tmp117
   366 label __label79
   367 printflush message1
   368 label __label76
   369 jump __label75 always
   370 label __label77
-    * set __retval112 null
   371 label __label74
   372 ucontrol flag 1
   373 set state 1
-    * set __tmp111 1
   374 jump __label72 always
   375 label __label71
-    * set __tmp111 null
   376 label __label72
   377 sensor __tmp118 SORTER @config
   378 set ITEM __tmp118
 
   390 label __label86
   391 set LAST_ITEM ITEM
   392 set state 1
-    * set __tmp120 1
   393 jump __label83 always
   394 label __label82
-    * set __tmp120 null
   395 label __label83
   396 set show_state 0
   397 op equal __tmp123 state 1
 
   424 label __label92
   425 set __tmp127 __tmp130
   426 label __label90
-    * set __tmp124 __tmp127
   427 jump __label88 always
   428 label __label87
-    * set __tmp124 null
   429 label __label88
   430 op equal __tmp133 state 2
   431 jump __label95 equal __tmp133 false
 
   454 set show_state 2
   455 set __tmp136 2
   456 label __label98
-    * set __tmp134 __tmp136
   457 jump __label96 always
   458 label __label95
-    * set __tmp134 null
   459 label __label96
   460 op equal __tmp143 state 3
   461 jump __label101 equal __tmp143 false
 
   485 set show_state 3
   486 set __tmp146 3
   487 label __label104
-    * set __tmp144 __tmp146
   488 jump __label102 always
   489 label __label101
-    * set __tmp144 null
   490 label __label102
   491 op greaterThan __tmp153 iter 3
   492 jump __label107 equal __tmp153 false
 
   505 print " (limit [orange]"
   506 print LOCAL_MARGIN
   507 print "[])"
-    * set __tmp157 null
   508 jump __label110 always
   509 label __label109
-    * set __tmp157 null
   510 label __label110
   511 jump __label111 equal SHOW_REMOTE_LEVEL false
   512 sensor __tmp159 CORE ITEM
 
   523 label __label113
   524 set __tmp161 null
   525 label __label114
-    * set __tmp158 __tmp161
   526 jump __label112 always
   527 label __label111
-    * set __tmp158 null
   528 label __label112
   529 sensor __tmp162 @unit @totalItems
   530 print MSG
 
   543 print "[]  arriving in [gold]"
   544 print __tmp171
   545 print " sec[]\n"
-    * set __tmp164 null
   546 jump __label116 always
   547 label __label115
   548 op equal __tmp172 show_state 3
 
   562 label __label117
   563 set __tmp173 null
   564 label __label118
-    * set __tmp164 __tmp173
   565 label __label116
   566 op floor __tmp181 loop_time
   567 print "[lightgray]Loop time: "
 
   573 op equal __tmp183 __tmp182 0
   574 jump __label119 equal __tmp183 false
   575 jump __label70 always
-    * set __tmp184 null
   576 jump __label120 always
   577 label __label119
-    * set __tmp184 null
   578 label __label120
   579 sensor __tmp185 SRC @dead
   580 op notEqual __tmp186 __tmp185 0
   581 jump __label121 equal __tmp186 false
   582 jump __label70 always
-    * set __tmp187 null
   583 jump __label122 always
   584 label __label121
-    * set __tmp187 null
   585 label __label122
   586 sensor __tmp188 DST @dead
   587 op notEqual __tmp189 __tmp188 0
   588 jump __label123 equal __tmp189 false
   589 jump __label70 always
-    * set __tmp190 null
   590 jump __label124 always
   591 label __label123
-    * set __tmp190 null
   592 label __label124
   593 sensor __tmp191 SORTER @dead
   594 op notEqual __tmp192 __tmp191 0
 
   599 label __label125
   600 set __tmp193 null
   601 label __label126
-    * set __tmp154 __tmp193
   602 jump __label108 always
   603 label __label107
   604 op add __tmp194 iter 1
   605 set iter __tmp194
-    * set __tmp154 __tmp194
   606 label __label108
   607 op sub __tmp195 @time start
   608 set loop_time __tmp195
 
   646 label __label133
   647 jump __label132 always
   648 label __label134
-    * set __tmp206 null
   649 jump __label131 always
   650 label __label130
-    * set __tmp206 null
   651 label __label131
   652 end

Modifications by DeadCodeEliminator, iteration 2:
 
    74 print "[salmon]Looking for a free "
    75 print UNIT
    76 print "..."
-    * set __tmp22 null
    77 jump __label26 always
    78 label __label25
-    * set __retval17 null
    79 jump __label19 always
-    * set __tmp22 null
    80 label __label26
    81 label __label24
    82 printflush message1
    83 label __label21
    84 jump __label20 always
    85 label __label22
-    * set __retval17 null
    86 label __label19
    87 label __label7
    88 label __label4
 
   134 print DROP_TARGET
   135 print "\n"
   136 print "[salmon]Item dump must be a container or a vault!"
-    * set __tmp38 null
   137 jump __label38 always
   138 label __label37
   139 jump __label29 always
-    * set __tmp38 null
   140 label __label38
   141 label __label36
   142 printflush message1
 
   201 label __label49
   202 set __tmp62 null
   203 label __label50
-    * set __tmp50 __tmp62
   204 jump __label45 always
   205 label __label44
-    * set __tmp50 null
   206 label __label45
   207 label __label40
   208 op equal __tmp63 CORE null
 
   349 print "[salmon]Looking for a free "
   350 print UNIT
   351 print "..."
-    * set __tmp117 null
   352 jump __label81 always
   353 label __label80
   354 jump __label74 always
-    * set __tmp117 null
   355 label __label81
   356 label __label79
   357 printflush message1
 
   390 op equal __tmp126 __tmp125 ITEM
   391 jump __label89 equal __tmp126 false
   392 set state 3
-    * set __tmp127 3
   393 jump __label90 always
   394 label __label89
   395 sensor __tmp128 @unit @totalItems
 
   411 label __label94
   412 set __tmp130 __tmp132
   413 label __label92
-    * set __tmp127 __tmp130
   414 label __label90
   415 jump __label88 always
   416 label __label87
 
   434 set MSG "\nLoading items: [green]"
   435 set __tmp142 "\nLoading items: [green]"
   436 label __label100
-    * set __tmp136 __tmp142
   437 jump __label98 always
   438 label __label97
   439 ucontrol approach SRC_X SRC_Y 6
   440 set MSG "\nGoing to source: [green]"
   441 set show_state 2
-    * set __tmp136 2
   442 label __label98
   443 jump __label96 always
   444 label __label95
 
   463 set MSG "\nDropping items: [green]"
   464 set __tmp152 "\nDropping items: [green]"
   465 label __label106
-    * set __tmp146 __tmp152
   466 jump __label104 always
   467 label __label103
   468 ucontrol approach DST_X DST_Y 6
   469 set MSG "\nGoing to destination: [green]"
   470 set show_state 3
-    * set __tmp146 3
   471 label __label104
   472 jump __label102 always
   473 label __label101
 
   502 print " (limit [orange]"
   503 print REMOTE_MARGIN
   504 print "[])"
-    * set __tmp161 null
   505 jump __label114 always
   506 label __label113
-    * set __tmp161 null
   507 label __label114
   508 jump __label112 always
   509 label __label111
 
   539 print "[]  arriving in [gold]"
   540 print __tmp180
   541 print " sec[]\n"
-    * set __tmp173 null
   542 jump __label118 always
   543 label __label117
-    * set __tmp173 null
   544 label __label118
   545 label __label116
   546 op floor __tmp181 loop_time
 
   574 op notEqual __tmp192 __tmp191 0
   575 jump __label125 equal __tmp192 false
   576 jump __label70 always
-    * set __tmp193 null
   577 jump __label126 always
   578 label __label125
-    * set __tmp193 null
   579 label __label126
   580 jump __label108 always
   581 label __label107

Modifications by DeadCodeEliminator, iteration 3:
 
   196 op notEqual __tmp61 b_type @vault
   197 jump __label49 equal __tmp61 false
   198 set CORE null
-    * set __tmp62 null
   199 jump __label50 always
   200 label __label49
-    * set __tmp62 null
   201 label __label50
   202 jump __label45 always
   203 label __label44
 
   394 op equal __tmp129 __tmp128 0
   395 jump __label91 equal __tmp129 false
   396 set state 2
-    * set __tmp130 2
   397 jump __label92 always
   398 label __label91
   399 set MSG "\nUnloading previous items: [green]"
 
   406 label __label93
   407 set __tmp132 null
   408 label __label94
-    * set __tmp130 __tmp132
   409 label __label92
   410 label __label90
   411 jump __label88 always
 
   424 op greaterThanEq __tmp141 __tmp140 UNIT_CAPACITY
   425 jump __label99 equal __tmp141 false
   426 set state 3
-    * set __tmp142 3
   427 jump __label100 always
   428 label __label99
   429 set MSG "\nLoading items: [green]"
-    * set __tmp142 "\nLoading items: [green]"
   430 label __label100
   431 jump __label98 always
   432 label __label97
 
   451 jump __label105 equal __tmp151 false
   452 set state 2
   453 ucontrol approach SRC_X SRC_Y 6
-    * set __tmp152 null
   454 jump __label106 always
   455 label __label105
   456 set MSG "\nDropping items: [green]"
-    * set __tmp152 "\nDropping items: [green]"
   457 label __label106
   458 jump __label104 always
   459 label __label103

Modifications by DeadCodeEliminator, iteration 4:
 
   401 ucontrol within DROP_X DROP_Y 8 __tmp131
   402 jump __label93 equal __tmp131 false
   403 ucontrol itemDrop DROP_TARGET UNIT_CAPACITY
-    * set __tmp132 null
   404 jump __label94 always
   405 label __label93
-    * set __tmp132 null
   406 label __label94
   407 label __label92
   408 label __label90

Modifications by SingleStepJumpEliminator, iteration 1:
 
    30 jump __label11 equal __tmp8 false
    31 set __fn0_first_unit @unit
    32 jump __label10 always
-    * jump __label12 always
    33 label __label11
    34 label __label12
    35 print "[salmon]No unit of type "
 
    44 op equal __tmp11 __tmp10 @this
    45 jump __label16 equal __tmp11 false
    46 jump __label7 always
-    * jump __label17 always
    47 label __label16
    48 label __label17
    49 ubind UNIT
 
   108 jump __label33 equal __tmp30 false
   109 set DROP_TARGET CONTAINER
   110 set CONTAINER block
-    * jump __label34 always
   111 label __label33
   112 label __label34
   113 label __label31
 
   193 op notEqual __tmp61 b_type @vault
   194 jump __label49 equal __tmp61 false
   195 set CORE null
-    * jump __label50 always
   196 label __label49
   197 label __label50
-    * jump __label45 always
   198 label __label44
   199 label __label45
   200 label __label40
   201 op equal __tmp63 CORE null
   202 jump __label51 equal __tmp63 false
   203 end
-    * jump __label52 always
   204 label __label51
   205 label __label52
   206 set SORTER sorter1
 
   217 jump __label56 equal __tmp69 false
   218 print "Block found: "
   219 print SORTER
-    * jump __label57 always
   220 label __label56
   221 label __label57
   222 printflush message1
 
   352 label __label74
   353 ucontrol flag 1
   354 set state 1
-    * jump __label72 always
   355 label __label71
   356 label __label72
   357 sensor __tmp118 SORTER @config
 
   370 label __label86
   371 set LAST_ITEM ITEM
   372 set state 1
-    * jump __label83 always
   373 label __label82
   374 label __label83
   375 set show_state 0
 
   392 ucontrol within DROP_X DROP_Y 8 __tmp131
   393 jump __label93 equal __tmp131 false
   394 ucontrol itemDrop DROP_TARGET UNIT_CAPACITY
-    * jump __label94 always
   395 label __label93
   396 label __label94
   397 label __label92
   398 label __label90
-    * jump __label88 always
   399 label __label87
   400 label __label88
   401 op equal __tmp133 state 2
 
   421 set MSG "\nGoing to source: [green]"
   422 set show_state 2
   423 label __label98
-    * jump __label96 always
   424 label __label95
   425 label __label96
   426 op equal __tmp143 state 3
 
   447 set MSG "\nGoing to destination: [green]"
   448 set show_state 3
   449 label __label104
-    * jump __label102 always
   450 label __label101
   451 label __label102
   452 op greaterThan __tmp153 iter 3
 
   466 print " (limit [orange]"
   467 print LOCAL_MARGIN
   468 print "[])"
-    * jump __label110 always
   469 label __label109
   470 label __label110
   471 jump __label111 equal SHOW_REMOTE_LEVEL false
 
   478 print " (limit [orange]"
   479 print REMOTE_MARGIN
   480 print "[])"
-    * jump __label114 always
   481 label __label113
   482 label __label114
-    * jump __label112 always
   483 label __label111
   484 label __label112
   485 sensor __tmp162 @unit @totalItems
 
   513 print "[]  arriving in [gold]"
   514 print __tmp180
   515 print " sec[]\n"
-    * jump __label118 always
   516 label __label117
   517 label __label118
   518 label __label116
 
   526 op equal __tmp183 __tmp182 0
   527 jump __label119 equal __tmp183 false
   528 jump __label70 always
-    * jump __label120 always
   529 label __label119
   530 label __label120
   531 sensor __tmp185 SRC @dead
   532 op notEqual __tmp186 __tmp185 0
   533 jump __label121 equal __tmp186 false
   534 jump __label70 always
-    * jump __label122 always
   535 label __label121
   536 label __label122
   537 sensor __tmp188 DST @dead
   538 op notEqual __tmp189 __tmp188 0
   539 jump __label123 equal __tmp189 false
   540 jump __label70 always
-    * jump __label124 always
   541 label __label123
   542 label __label124
   543 sensor __tmp191 SORTER @dead
   544 op notEqual __tmp192 __tmp191 0
   545 jump __label125 equal __tmp192 false
   546 jump __label70 always
-    * jump __label126 always
   547 label __label125
   548 label __label126
   549 jump __label108 always
 
   593 label __label133
   594 jump __label132 always
   595 label __label134
-    * jump __label131 always
   596 label __label130
   597 label __label131
   598 end

Modifications by OutputTempEliminator, iteration 1:
 
     1 set LINK_ID 0
     2 set LOCAL_LIMIT 100
     3 set REMOTE_LIMIT 100
-    * op max __tmp0 LOCAL_LIMIT 20
-    * set LOCAL_LIMIT __tmp0
-    * op max __tmp1 REMOTE_LIMIT 20
-    * set REMOTE_LIMIT __tmp1
+    4 op max LOCAL_LIMIT LOCAL_LIMIT 20
+    5 op max REMOTE_LIMIT REMOTE_LIMIT 20
     6 label __label0
     7 sensor __tmp2 switch1 @enabled
     8 op equal __tmp3 __tmp2 false
 
    84 label __label4
    85 jump __label3 always
    86 label __label5
-    * sensor __tmp23 @unit @itemCapacity
-    * set UNIT_CAPACITY __tmp23
+   87 sensor UNIT_CAPACITY @unit @itemCapacity
    88 sensor __tmp24 @unit @speed
-    * op div __tmp25 __tmp24 10
-    * set SPEED_SEC __tmp25
+   89 op div SPEED_SEC __tmp24 10
    90 ucontrol flag 1
    91 label __label27
    92 set CONTAINER null
 
    95 label __label30
    96 op greaterThan __tmp26 n 0
    97 jump __label32 equal __tmp26 false
-    * op sub __tmp27 n 1
-    * set n __tmp27
-    * getlink __tmp28 n
-    * set block __tmp28
+   98 op sub n n 1
+   99 getlink block n
   100 sensor __tmp29 block @itemCapacity
   101 op greaterThan __tmp30 __tmp29 0
   102 jump __label33 equal __tmp30 false
 
   139 jump __label39 equal __tmp39 false
   140 print "[gold]Locating core..."
   141 printflush message1
-    * ulocate building core false @copper CORE_X CORE_Y __tmp42 __tmp41
-    * set CORE __tmp41
+  142 ulocate building core false @copper CORE_X CORE_Y __tmp42 CORE
   143 jump __label40 always
   144 label __label39
   145 print "[gold]Locating vault #"
   146 print LINK_ID
   147 print "..."
   148 printflush message1
-    * op add __tmp43 99999900 LINK_ID
-    * set QUERY_FLAG __tmp43
+  149 op add QUERY_FLAG 99999900 LINK_ID
   150 set flag QUERY_FLAG
   151 ucontrol flag flag
   152 label __label41
 
   156 op land __tmp47 __tmp44 __tmp46
   157 jump __label43 equal __tmp47 false
   158 ucontrol stop
-    * sensor __tmp48 @unit @flag
-    * set flag __tmp48
+  159 sensor flag @unit @flag
   160 label __label42
   161 jump __label41 always
   162 label __label43
   163 op notEqual __tmp49 flag QUERY_FLAG
   164 jump __label44 equal __tmp49 false
-    * op idiv __tmp51 flag 100
-    * set position __tmp51
-    * op mod __tmp52 position @mapw
-    * set CORE_X __tmp52
-    * op idiv __tmp53 position @mapw
-    * set CORE_Y __tmp53
+  165 op idiv position flag 100
+  166 op mod CORE_X position @mapw
+  167 op idiv CORE_Y position @mapw
   168 label __label46
   169 ucontrol within CORE_X CORE_Y 8 __tmp54
   170 op equal __tmp55 __tmp54 false
 
   176 label __label47
   177 jump __label46 always
   178 label __label48
-    * ucontrol getBlock CORE_X CORE_Y b_type __tmp59 __tmp60
-    * set CORE __tmp59
+  179 ucontrol getBlock CORE_X CORE_Y b_type CORE __tmp60
   180 op notEqual __tmp61 b_type @vault
   181 jump __label49 equal __tmp61 false
   182 set CORE null
 
   191 label __label51
   192 label __label52
   193 set SORTER sorter1
-    * sensor __tmp65 SORTER @type
-    * set sorter_type __tmp65
+  194 sensor sorter_type SORTER @type
   195 label __label53
   196 op notEqual __tmp66 sorter_type @sorter
   197 op notEqual __tmp67 sorter_type @inverted-sorter
 
   207 label __label57
   208 printflush message1
   209 set SORTER sorter1
-    * sensor __tmp71 SORTER @type
-    * set sorter_type __tmp71
+  210 sensor sorter_type SORTER @type
   211 label __label54
   212 jump __label53 always
   213 label __label55
 
   216 set SHOW_REMOTE_LEVEL true
   217 set SRC CORE
   218 set DST CONTAINER
-    * sensor __tmp74 SRC @itemCapacity
-    * set src_capacity __tmp74
-    * sensor __tmp75 DST @itemCapacity
-    * set dst_capacity __tmp75
+  219 sensor src_capacity SRC @itemCapacity
+  220 sensor dst_capacity DST @itemCapacity
   221 op sub __tmp76 100 REMOTE_LIMIT
   222 op mul __tmp77 src_capacity __tmp76
-    * op idiv __tmp78 __tmp77 100
-    * set LOAD_LEVEL __tmp78
+  223 op idiv LOAD_LEVEL __tmp77 100
   224 op mul __tmp79 dst_capacity LOCAL_LIMIT
-    * op idiv __tmp80 __tmp79 100
-    * set DROP_LEVEL __tmp80
+  225 op idiv DROP_LEVEL __tmp79 100
   226 set LOCAL_MARGIN DROP_LEVEL
   227 set REMOTE_MARGIN LOAD_LEVEL
   228 op equal __tmp81 LINK_ID 0
 
   235 set DIRECTION __tmp82
   236 jump __label59 always
   237 label __label58
-    * op greaterThan __tmp83 LINK_ID 0
-    * set SHOW_REMOTE_LEVEL __tmp83
+  238 op greaterThan SHOW_REMOTE_LEVEL LINK_ID 0
   239 set SRC CONTAINER
   240 set DST CORE
-    * sensor __tmp84 SRC @itemCapacity
-    * set src_capacity __tmp84
-    * sensor __tmp85 DST @itemCapacity
-    * set dst_capacity __tmp85
+  241 sensor src_capacity SRC @itemCapacity
+  242 sensor dst_capacity DST @itemCapacity
   243 op sub __tmp86 100 LOCAL_LIMIT
   244 op mul __tmp87 src_capacity __tmp86
-    * op idiv __tmp88 __tmp87 100
-    * set LOAD_LEVEL __tmp88
+  245 op idiv LOAD_LEVEL __tmp87 100
   246 op mul __tmp89 dst_capacity REMOTE_LIMIT
   247 op idiv __tmp90 __tmp89 100
   248 op equal __tmp91 LINK_ID 0
   249 op mul __tmp92 __tmp91 UNIT_CAPACITY
-    * op add __tmp93 __tmp90 __tmp92
-    * set DROP_LEVEL __tmp93
+  250 op add DROP_LEVEL __tmp90 __tmp92
   251 set LOCAL_MARGIN LOAD_LEVEL
   252 set REMOTE_MARGIN DROP_LEVEL
   253 op equal __tmp94 LINK_ID 0
 
   267 set __tmp97 LINK_ID
   268 label __label65
   269 set LINK_TXT __tmp97
-    * sensor __tmp98 SRC @x
-    * set SRC_X __tmp98
-    * sensor __tmp99 SRC @y
-    * set SRC_Y __tmp99
-    * sensor __tmp100 DST @x
-    * set DST_X __tmp100
-    * sensor __tmp101 DST @y
-    * set DST_Y __tmp101
+  270 sensor SRC_X SRC @x
+  271 sensor SRC_Y SRC @y
+  272 sensor DST_X DST @x
+  273 sensor DST_Y DST @y
   274 op equal __tmp102 DROP_TARGET null
   275 jump __label66 equal __tmp102 false
   276 set DROP_TARGET CORE
 
   278 set DROP_Y CORE_Y
   279 jump __label67 always
   280 label __label66
-    * sensor __tmp104 DROP_TARGET @x
-    * set DROP_X __tmp104
-    * sensor __tmp105 DROP_TARGET @y
-    * set DROP_Y __tmp105
+  281 sensor DROP_X DROP_TARGET @x
+  282 sensor DROP_Y DROP_TARGET @y
   283 label __label67
   284 set LAST_ITEM @mono
   285 set iter 0
 
   324 set state 1
   325 label __label71
   326 label __label72
-    * sensor __tmp118 SORTER @config
-    * set ITEM __tmp118
+  327 sensor ITEM SORTER @config
   328 op notEqual __tmp119 ITEM LAST_ITEM
   329 jump __label82 equal __tmp119 false
   330 label __label84
 
   332 jump __label86 equal __tmp121 false
   333 print "[salmon]No item type selected for transport."
   334 printflush message1
-    * sensor __tmp122 SORTER @config
-    * set ITEM __tmp122
+  335 sensor ITEM SORTER @config
   336 label __label85
   337 jump __label84 always
   338 label __label86
 
   372 jump __label97 equal __tmp135 false
   373 sensor __tmp137 SRC ITEM
   374 op sub __tmp138 __tmp137 LOAD_LEVEL
-    * op max __tmp139 __tmp138 0
-    * set max_load __tmp139
+  375 op max max_load __tmp138 0
   376 ucontrol itemTake SRC ITEM max_load
   377 sensor __tmp140 @unit @totalItems
   378 op greaterThanEq __tmp141 __tmp140 UNIT_CAPACITY
 
   396 jump __label103 equal __tmp145 false
   397 sensor __tmp147 DST ITEM
   398 op sub __tmp148 DROP_LEVEL __tmp147
-    * op max __tmp149 __tmp148 0
-    * set max_drop __tmp149
+  399 op max max_drop __tmp148 0
   400 ucontrol itemDrop DST max_drop
   401 sensor __tmp150 @unit @totalItems
   402 op lessThanEq __tmp151 __tmp150 0
 
   514 label __label126
   515 jump __label108 always
   516 label __label107
-    * op add __tmp194 iter 1
-    * set iter __tmp194
+  517 op add iter iter 1
   518 label __label108
-    * op sub __tmp195 @time start
-    * set loop_time __tmp195
+  519 op sub loop_time @time start
   520 label __label69
   521 jump __label68 always
   522 label __label70

Modifications by ImproveNegativeConditionalJumps, iteration 1:
 
     5 op max REMOTE_LIMIT REMOTE_LIMIT 20
     6 label __label0
     7 sensor __tmp2 switch1 @enabled
-    * op equal __tmp3 __tmp2 false
-    * jump __label2 equal __tmp3 false
+    8 jump __label2 notEqual __tmp2 false
     9 print "Unit Transport - Single"
    10 print "\n"
    11 print "Activate switch to start."
 
    17 label __label3
    18 sensor __tmp4 @unit @dead
    19 op strictEqual __tmp5 __tmp4 0
-    * op equal __tmp6 __tmp5 false
-    * jump __label5 equal __tmp6 false
+   20 jump __label5 notEqual __tmp5 false
    21 label __label6
    22 set __fn0_first_unit null
    23 label __label8
    24 ubind UNIT
-    * op notEqual __tmp8 @unit null
-    * jump __label11 equal __tmp8 false
+   25 jump __label11 equal @unit null
    26 set __fn0_first_unit @unit
    27 jump __label10 always
    28 label __label11
 
    36 label __label10
    37 label __label13
    38 sensor __tmp10 @unit @controller
-    * op equal __tmp11 __tmp10 @this
-    * jump __label16 equal __tmp11 false
+   39 jump __label16 notEqual __tmp10 @this
    40 jump __label7 always
    41 label __label16
    42 label __label17
 
    53 label __label18
    54 label __label20
    55 ubind UNIT
-    * op equal __tmp18 @unit null
-    * jump __label23 equal __tmp18 false
+   56 jump __label23 notEqual @unit null
    57 print "[salmon]No unit of type "
    58 print UNIT
    59 print " found. 2"
    60 jump __label24 always
    61 label __label23
    62 sensor __tmp20 @unit @controlled
-    * op notEqual __tmp21 __tmp20 0
-    * jump __label25 equal __tmp21 false
+   63 jump __label25 equal __tmp20 0
    64 print "[salmon]Looking for a free "
    65 print UNIT
    66 print "..."
 
    87 set DROP_TARGET null
    88 set n @links
    89 label __label30
-    * op greaterThan __tmp26 n 0
-    * jump __label32 equal __tmp26 false
+   90 jump __label32 lessThanEq n 0
    91 op sub n n 1
    92 getlink block n
    93 sensor __tmp29 block @itemCapacity
-    * op greaterThan __tmp30 __tmp29 0
-    * jump __label33 equal __tmp30 false
+   94 jump __label33 lessThanEq __tmp29 0
    95 set DROP_TARGET CONTAINER
    96 set CONTAINER block
    97 label __label33
 
    99 label __label31
   100 jump __label30 always
   101 label __label32
-    * op equal __tmp32 CONTAINER null
-    * jump __label35 equal __tmp32 false
+  102 jump __label35 notEqual CONTAINER null
   103 print "[salmon]No destination."
   104 print "\n"
   105 jump __label36 always
 
   126 jump __label27 always
   127 label __label29
   128 set CORE null
-    * op equal __tmp39 LINK_ID 0
-    * jump __label39 equal __tmp39 false
+  129 jump __label39 notEqual LINK_ID 0
   130 print "[gold]Locating core..."
   131 printflush message1
   132 ulocate building core false @copper CORE_X CORE_Y __tmp42 CORE
 
   150 label __label42
   151 jump __label41 always
   152 label __label43
-    * op notEqual __tmp49 flag QUERY_FLAG
-    * jump __label44 equal __tmp49 false
+  153 jump __label44 equal flag QUERY_FLAG
   154 op idiv position flag 100
   155 op mod CORE_X position @mapw
   156 op idiv CORE_Y position @mapw
 
   166 jump __label46 always
   167 label __label48
   168 ucontrol getBlock CORE_X CORE_Y b_type CORE __tmp60
-    * op notEqual __tmp61 b_type @vault
-    * jump __label49 equal __tmp61 false
+  169 jump __label49 equal b_type @vault
   170 set CORE null
   171 label __label49
   172 label __label50
   173 label __label44
   174 label __label45
   175 label __label40
-    * op equal __tmp63 CORE null
-    * jump __label51 equal __tmp63 false
+  176 jump __label51 notEqual CORE null
   177 end
   178 label __label51
   179 label __label52
 
   186 jump __label55 equal __tmp68 false
   187 print "[salmon]Block sorter1 is neither a sorter, nor an inverted sorter."
   188 print "\n"
-    * op notEqual __tmp69 SORTER null
-    * jump __label56 equal __tmp69 false
+  189 jump __label56 equal SORTER null
   190 print "Block found: "
   191 print SORTER
   192 label __label56
 
   197 label __label54
   198 jump __label53 always
   199 label __label55
-    * op equal __tmp72 sorter_type @sorter
-    * jump __label58 equal __tmp72 false
+  200 jump __label58 notEqual sorter_type @sorter
   201 set SHOW_REMOTE_LEVEL true
   202 set SRC CORE
   203 set DST CONTAINER
 
   210 op idiv DROP_LEVEL __tmp79 100
   211 set LOCAL_MARGIN DROP_LEVEL
   212 set REMOTE_MARGIN LOAD_LEVEL
-    * op equal __tmp81 LINK_ID 0
-    * jump __label60 equal __tmp81 false
+  213 jump __label60 notEqual LINK_ID 0
   214 set __tmp82 "[] from core"
   215 jump __label61 always
   216 label __label60
 
   234 op add DROP_LEVEL __tmp90 __tmp92
   235 set LOCAL_MARGIN LOAD_LEVEL
   236 set REMOTE_MARGIN DROP_LEVEL
-    * op equal __tmp94 LINK_ID 0
-    * jump __label62 equal __tmp94 false
+  237 jump __label62 notEqual LINK_ID 0
   238 set __tmp95 "[] to core"
   239 jump __label63 always
   240 label __label62
 
   242 label __label63
   243 set DIRECTION __tmp95
   244 label __label59
-    * op equal __tmp96 LINK_ID 0
-    * jump __label64 equal __tmp96 false
+  245 jump __label64 notEqual LINK_ID 0
   246 set __tmp97 ""
   247 jump __label65 always
   248 label __label64
 
   253 sensor SRC_Y SRC @y
   254 sensor DST_X DST @x
   255 sensor DST_Y DST @y
-    * op equal __tmp102 DROP_TARGET null
-    * jump __label66 equal __tmp102 false
+  256 jump __label66 notEqual DROP_TARGET null
   257 set DROP_TARGET CORE
   258 set DROP_X CORE_X
   259 set DROP_Y CORE_Y
 
   273 op strictEqual __tmp107 __tmp106 0
   274 sensor __tmp108 @unit @controller
   275 op notEqual __tmp109 __tmp108 @this
-    * op lessThanEq __tmp110 __tmp107 __tmp109
-    * jump __label71 equal __tmp110 false
+  276 jump __label71 greaterThan __tmp107 __tmp109
   277 label __label73
   278 label __label75
   279 ubind UNIT
-    * op equal __tmp113 @unit null
-    * jump __label78 equal __tmp113 false
+  280 jump __label78 notEqual @unit null
   281 print "[salmon]No unit of type "
   282 print UNIT
   283 print " found. 2"
   284 jump __label79 always
   285 label __label78
   286 sensor __tmp115 @unit @controlled
-    * op notEqual __tmp116 __tmp115 0
-    * jump __label80 equal __tmp116 false
+  287 jump __label80 equal __tmp115 0
   288 print "[salmon]Looking for a free "
   289 print UNIT
   290 print "..."
 
   303 label __label71
   304 label __label72
   305 sensor ITEM SORTER @config
-    * op notEqual __tmp119 ITEM LAST_ITEM
-    * jump __label82 equal __tmp119 false
+  306 jump __label82 equal ITEM LAST_ITEM
   307 label __label84
-    * op equal __tmp121 ITEM null
-    * jump __label86 equal __tmp121 false
+  308 jump __label86 notEqual ITEM null
   309 print "[salmon]No item type selected for transport."
   310 printflush message1
   311 sensor ITEM SORTER @config
 
   317 label __label82
   318 label __label83
   319 set show_state 0
-    * op equal __tmp123 state 1
-    * jump __label87 equal __tmp123 false
+  320 jump __label87 notEqual state 1
   321 sensor __tmp125 @unit @firstItem
-    * op equal __tmp126 __tmp125 ITEM
-    * jump __label89 equal __tmp126 false
+  322 jump __label89 notEqual __tmp125 ITEM
   323 set state 3
   324 jump __label90 always
   325 label __label89
   326 sensor __tmp128 @unit @totalItems
-    * op equal __tmp129 __tmp128 0
-    * jump __label91 equal __tmp129 false
+  327 jump __label91 notEqual __tmp128 0
   328 set state 2
   329 jump __label92 always
   330 label __label91
 
   339 label __label90
   340 label __label87
   341 label __label88
-    * op equal __tmp133 state 2
-    * jump __label95 equal __tmp133 false
+  342 jump __label95 notEqual state 2
   343 ucontrol within SRC_X SRC_Y 8 __tmp135
   344 jump __label97 equal __tmp135 false
   345 sensor __tmp137 SRC ITEM
 
   347 op max max_load __tmp138 0
   348 ucontrol itemTake SRC ITEM max_load
   349 sensor __tmp140 @unit @totalItems
-    * op greaterThanEq __tmp141 __tmp140 UNIT_CAPACITY
-    * jump __label99 equal __tmp141 false
+  350 jump __label99 lessThan __tmp140 UNIT_CAPACITY
   351 set state 3
   352 jump __label100 always
   353 label __label99
 
   361 label __label98
   362 label __label95
   363 label __label96
-    * op equal __tmp143 state 3
-    * jump __label101 equal __tmp143 false
+  364 jump __label101 notEqual state 3
   365 ucontrol within DST_X DST_Y 8 __tmp145
   366 jump __label103 equal __tmp145 false
   367 sensor __tmp147 DST ITEM
 
   369 op max max_drop __tmp148 0
   370 ucontrol itemDrop DST max_drop
   371 sensor __tmp150 @unit @totalItems
-    * op lessThanEq __tmp151 __tmp150 0
-    * jump __label105 equal __tmp151 false
+  372 jump __label105 greaterThan __tmp150 0
   373 set state 2
   374 ucontrol approach SRC_X SRC_Y 6
   375 jump __label106 always
 
   384 label __label104
   385 label __label101
   386 label __label102
-    * op greaterThan __tmp153 iter 3
-    * jump __label107 equal __tmp153 false
+  387 jump __label107 lessThanEq iter 3
   388 set iter 0
   389 print "Moving [green]"
   390 print ITEM
 
   395 print "Local items: [gold]"
   396 print __tmp155
   397 print "[]"
-    * op lessThan __tmp156 LOCAL_LIMIT 100
-    * jump __label109 equal __tmp156 false
+  398 jump __label109 greaterThanEq LOCAL_LIMIT 100
   399 print " (limit [orange]"
   400 print LOCAL_MARGIN
   401 print "[])"
 
   406 print "\nRemote items: [gold]"
   407 print __tmp159
   408 print "[]"
-    * op lessThan __tmp160 REMOTE_LIMIT 100
-    * jump __label113 equal __tmp160 false
+  409 jump __label113 greaterThanEq REMOTE_LIMIT 100
   410 print " (limit [orange]"
   411 print REMOTE_MARGIN
   412 print "[])"
 
   419 print __tmp162
   420 print "[]"
   421 print "\n"
-    * op equal __tmp163 show_state 2
-    * jump __label115 equal __tmp163 false
+  422 jump __label115 notEqual show_state 2
   423 sensor __tmp165 @unit @x
   424 op sub __tmp166 SRC_X __tmp165
   425 sensor __tmp167 @unit @y
 
   432 print " sec[]\n"
   433 jump __label116 always
   434 label __label115
-    * op equal __tmp172 show_state 3
-    * jump __label117 equal __tmp172 false
+  435 jump __label117 notEqual show_state 3
   436 sensor __tmp174 @unit @x
   437 op sub __tmp175 DST_X __tmp174
   438 sensor __tmp176 @unit @y
 
   453 print "\n"
   454 printflush message1
   455 sensor __tmp182 switch1 @enabled
-    * op equal __tmp183 __tmp182 0
-    * jump __label119 equal __tmp183 false
+  456 jump __label119 notEqual __tmp182 0
   457 jump __label70 always
   458 label __label119
   459 label __label120
   460 sensor __tmp185 SRC @dead
-    * op notEqual __tmp186 __tmp185 0
-    * jump __label121 equal __tmp186 false
+  461 jump __label121 equal __tmp185 0
   462 jump __label70 always
   463 label __label121
   464 label __label122
   465 sensor __tmp188 DST @dead
-    * op notEqual __tmp189 __tmp188 0
-    * jump __label123 equal __tmp189 false
+  466 jump __label123 equal __tmp188 0
   467 jump __label70 always
   468 label __label123
   469 label __label124
   470 sensor __tmp191 SORTER @dead
-    * op notEqual __tmp192 __tmp191 0
-    * jump __label125 equal __tmp192 false
+  471 jump __label125 equal __tmp191 0
   472 jump __label70 always
   473 label __label125
   474 label __label126
 
   483 label __label127
   484 sensor __tmp196 SORTER @dead
   485 op strictEqual __tmp197 __tmp196 0
-    * op equal __tmp198 __tmp197 false
-    * jump __label129 equal __tmp198 false
+  486 jump __label129 notEqual __tmp197 false
   487 print "[salmon]sorter1 is missing!"
   488 print "\n"
   489 print "[gold]Please place and link sorter or inverted sorter to the processor."
 
   505 control enabled switch1 false
   506 label __label132
   507 sensor __tmp207 switch1 @enabled
-    * op equal __tmp208 __tmp207 false
-    * jump __label134 equal __tmp208 false
+  508 jump __label134 notEqual __tmp207 false
   509 print "[salmon]Local or remote container became invalid."
   510 print "\n"
   511 print "[gold]Please fix and press button to reinitialize."

Modifications by JumpOverJumpEliminator, iteration 1:
 
    36 label __label10
    37 label __label13
    38 sensor __tmp10 @unit @controller
-    * jump __label16 notEqual __tmp10 @this
-    * jump __label7 always
+   39 jump __label7 equal __tmp10 @this
    40 label __label16
    41 label __label17
    42 ubind UNIT
 
   452 print "\n"
   453 printflush message1
   454 sensor __tmp182 switch1 @enabled
-    * jump __label119 notEqual __tmp182 0
-    * jump __label70 always
+  455 jump __label70 equal __tmp182 0
   456 label __label119
   457 label __label120
   458 sensor __tmp185 SRC @dead
-    * jump __label121 equal __tmp185 0
-    * jump __label70 always
+  459 jump __label70 notEqual __tmp185 0
   460 label __label121
   461 label __label122
   462 sensor __tmp188 DST @dead
-    * jump __label123 equal __tmp188 0
-    * jump __label70 always
+  463 jump __label70 notEqual __tmp188 0
   464 label __label123
   465 label __label124
   466 sensor __tmp191 SORTER @dead
-    * jump __label125 equal __tmp191 0
-    * jump __label70 always
+  467 jump __label70 notEqual __tmp191 0
   468 label __label125
   469 label __label126
   470 jump __label108 always

Modifications by ImprovePositiveConditionalJumps, iteration 1:
 
    16 label __label2
    17 label __label3
    18 sensor __tmp4 @unit @dead
-    * op strictEqual __tmp5 __tmp4 0
-    * jump __label5 notEqual __tmp5 false
+   19 jump __label5 strictEqual __tmp4 0
    20 label __label6
    21 set __fn0_first_unit null
    22 label __label8
 
   476 label __label70
   477 label __label127
   478 sensor __tmp196 SORTER @dead
-    * op strictEqual __tmp197 __tmp196 0
-    * jump __label129 notEqual __tmp197 false
+  479 jump __label129 strictEqual __tmp196 0
   480 print "[salmon]sorter1 is missing!"
   481 print "\n"
   482 print "[gold]Please place and link sorter or inverted sorter to the processor."

Modifications by LoopOptimizer, iteration 1:
 
     6 label __label0
     7 sensor __tmp2 switch1 @enabled
     8 jump __label2 notEqual __tmp2 false
+    9 label __label135
    10 print "Unit Transport - Single"
    11 print "\n"
    12 print "Activate switch to start."
    13 print "\n"
    14 printflush message1
    15 label __label1
-    * jump __label0 always
+   16 sensor __tmp2 switch1 @enabled
+   17 jump __label135 equal __tmp2 false
    18 label __label2
    19 label __label3
    20 sensor __tmp4 @unit @dead
 
    88 set n @links
    89 label __label30
    90 jump __label32 lessThanEq n 0
+   91 label __label136
    92 op sub n n 1
    93 getlink block n
    94 sensor __tmp29 block @itemCapacity
 
    98 label __label33
    99 label __label34
   100 label __label31
-    * jump __label30 always
+  101 jump __label136 greaterThan n 0
   102 label __label32
   103 jump __label35 notEqual CONTAINER null
   104 print "[salmon]No destination."
 
   185 op notEqual __tmp67 sorter_type @inverted-sorter
   186 op land __tmp68 __tmp66 __tmp67
   187 jump __label55 equal __tmp68 false
+  188 label __label137
   189 print "[salmon]Block sorter1 is neither a sorter, nor an inverted sorter."
   190 print "\n"
   191 jump __label56 equal SORTER null
 
   197 set SORTER sorter1
   198 sensor sorter_type SORTER @type
   199 label __label54
-    * jump __label53 always
+  200 op notEqual __tmp66 sorter_type @sorter
+  201 op notEqual __tmp67 sorter_type @inverted-sorter
+  202 op land __tmp68 __tmp66 __tmp67
+  203 jump __label137 notEqual __tmp68 false
   204 label __label55
   205 jump __label58 notEqual sorter_type @sorter
   206 set SHOW_REMOTE_LEVEL true
 
   311 jump __label82 equal ITEM LAST_ITEM
   312 label __label84
   313 jump __label86 notEqual ITEM null
+  314 label __label138
   315 print "[salmon]No item type selected for transport."
   316 printflush message1
   317 sensor ITEM SORTER @config
   318 label __label85
-    * jump __label84 always
+  319 jump __label138 equal ITEM null
   320 label __label86
   321 set LAST_ITEM ITEM
   322 set state 1
 
   507 label __label132
   508 sensor __tmp207 switch1 @enabled
   509 jump __label134 notEqual __tmp207 false
+  510 label __label139
   511 print "[salmon]Local or remote container became invalid."
   512 print "\n"
   513 print "[gold]Please fix and press button to reinitialize."
 
   515 printflush message1
   516 printflush message2
   517 label __label133
-    * jump __label132 always
+  518 sensor __tmp207 switch1 @enabled
+  519 jump __label139 equal __tmp207 false
   520 label __label134
   521 label __label130
   522 label __label131

Modifications by IfExpressionOptimizer, iteration 1:
 
   215 op idiv DROP_LEVEL __tmp79 100
   216 set LOCAL_MARGIN DROP_LEVEL
   217 set REMOTE_MARGIN LOAD_LEVEL
-    * jump __label60 notEqual LINK_ID 0
-    * set __tmp82 "[] from core"
+  218 set DIRECTION "[] from vault #"
+  219 jump __label61 notEqual LINK_ID 0
+  220 set DIRECTION "[] from core"
   221 jump __label61 always
-    * label __label60
-    * set __tmp82 "[] from vault #"
   222 label __label61
-    * set DIRECTION __tmp82
   223 jump __label59 always
   224 label __label58
   225 op greaterThan SHOW_REMOTE_LEVEL LINK_ID 0
 
   237 op add DROP_LEVEL __tmp90 __tmp92
   238 set LOCAL_MARGIN LOAD_LEVEL
   239 set REMOTE_MARGIN DROP_LEVEL
-    * jump __label62 notEqual LINK_ID 0
-    * set __tmp95 "[] to core"
+  240 set DIRECTION "[] to vault #"
+  241 jump __label63 notEqual LINK_ID 0
+  242 set DIRECTION "[] to core"
   243 jump __label63 always
-    * label __label62
-    * set __tmp95 "[] to vault #"
   244 label __label63
-    * set DIRECTION __tmp95
   245 label __label59
-    * jump __label64 notEqual LINK_ID 0
-    * set __tmp97 ""
+  246 set LINK_TXT LINK_ID
+  247 jump __label65 notEqual LINK_ID 0
+  248 set LINK_TXT ""
   249 jump __label65 always
-    * label __label64
-    * set __tmp97 LINK_ID
   250 label __label65
-    * set LINK_TXT __tmp97
   251 sensor SRC_X SRC @x
   252 sensor SRC_Y SRC @y
   253 sensor DST_X DST @x

Modifications by DataFlowOptimizer, iteration 1:
 
   139 printflush message1
   140 op add QUERY_FLAG 99999900 LINK_ID
   141 set flag QUERY_FLAG
-    * ucontrol flag flag
+  142 ucontrol flag QUERY_FLAG
   143 label __label41
   144 op equal __tmp44 flag QUERY_FLAG
   145 sensor __tmp45 @unit @dead

Modifications by PropagateJumpTargets, iteration 1:
 
    37 label __label10
    38 label __label13
    39 sensor __tmp10 @unit @controller
-    * jump __label7 equal __tmp10 @this
+   40 jump __label3 equal __tmp10 @this
    41 label __label16
    42 label __label17
    43 ubind UNIT
 
    60 jump __label24 always
    61 label __label23
    62 sensor __tmp20 @unit @controlled
-    * jump __label25 equal __tmp20 0
+   63 jump __label3 equal __tmp20 0
    64 print "[salmon]Looking for a free "
    65 print UNIT
    66 print "..."
    67 jump __label26 always
    68 label __label25
-    * jump __label19 always
+   69 jump __label3 always
    70 label __label26
    71 label __label24
    72 printflush message1
 
   109 sensor __tmp35 DROP_TARGET @itemCapacity
   110 op lessThan __tmp36 __tmp35 300
   111 op land __tmp37 __tmp34 __tmp36
-    * jump __label37 equal __tmp37 false
+  112 jump __label29 equal __tmp37 false
   113 print "Destination: "
   114 print CONTAINER
   115 print "\n"
 
   216 set LOCAL_MARGIN DROP_LEVEL
   217 set REMOTE_MARGIN LOAD_LEVEL
   218 set DIRECTION "[] from vault #"
-    * jump __label61 notEqual LINK_ID 0
+  219 jump __label59 notEqual LINK_ID 0
   220 set DIRECTION "[] from core"
-    * jump __label61 always
+  221 jump __label59 always
   222 label __label61
   223 jump __label59 always
   224 label __label58
 
   283 jump __label79 always
   284 label __label78
   285 sensor __tmp115 @unit @controlled
-    * jump __label80 equal __tmp115 0
+  286 jump __label74 equal __tmp115 0
   287 print "[salmon]Looking for a free "
   288 print UNIT
   289 print "..."
 
   349 sensor __tmp140 @unit @totalItems
   350 jump __label99 lessThan __tmp140 UNIT_CAPACITY
   351 set state 3
-    * jump __label100 always
+  352 jump __label98 always
   353 label __label99
   354 set MSG "\nLoading items: [green]"
   355 label __label100
 
   372 jump __label105 greaterThan __tmp150 0
   373 set state 2
   374 ucontrol approach SRC_X SRC_Y 6
-    * jump __label106 always
+  375 jump __label104 always
   376 label __label105
   377 set MSG "\nDropping items: [green]"
   378 label __label106

Modifications by UnreachableCodeEliminator, iteration 1:
 
    66 print "..."
    67 jump __label26 always
    68 label __label25
-    * jump __label3 always
    69 label __label26
    70 label __label24
    71 printflush message1
 
    75 label __label19
    76 label __label7
    77 label __label4
-    * jump __label3 always
    78 label __label5
    79 sensor UNIT_CAPACITY @unit @itemCapacity
    80 sensor __tmp24 @unit @speed
 
   117 print "[salmon]Item dump must be a container or a vault!"
   118 jump __label38 always
   119 label __label37
-    * jump __label29 always
   120 label __label38
   121 label __label36
   122 printflush message1
 
   217 set DIRECTION "[] from core"
   218 jump __label59 always
   219 label __label61
-    * jump __label59 always
   220 label __label58
   221 op greaterThan SHOW_REMOTE_LEVEL LINK_ID 0
   222 set SRC CONTAINER
 
   285 print "..."
   286 jump __label81 always
   287 label __label80
-    * jump __label74 always
   288 label __label81
   289 label __label79
   290 printflush message1

Modifications by SingleStepJumpEliminator, iteration 1:
 
    64 print "[salmon]Looking for a free "
    65 print UNIT
    66 print "..."
-    * jump __label26 always
    67 label __label25
    68 label __label26
    69 label __label24
 
   114 print DROP_TARGET
   115 print "\n"
   116 print "[salmon]Item dump must be a container or a vault!"
-    * jump __label38 always
   117 label __label37
   118 label __label38
   119 label __label36
 
   234 set DIRECTION "[] to vault #"
   235 jump __label63 notEqual LINK_ID 0
   236 set DIRECTION "[] to core"
-    * jump __label63 always
   237 label __label63
   238 label __label59
   239 set LINK_TXT LINK_ID
   240 jump __label65 notEqual LINK_ID 0
   241 set LINK_TXT ""
-    * jump __label65 always
   242 label __label65
   243 sensor SRC_X SRC @x
   244 sensor SRC_Y SRC @y
 
   279 print "[salmon]Looking for a free "
   280 print UNIT
   281 print "..."
-    * jump __label81 always
   282 label __label80
   283 label __label81
   284 label __label79

Modifications by PrintMerger, iteration 1:
 
     7 sensor __tmp2 switch1 @enabled
     8 jump __label2 notEqual __tmp2 false
     9 label __label135
-    * print "Unit Transport - Single"
-    * print "\n"
-    * print "Activate switch to start."
-    * print "\n"
+   10 print "Unit Transport - Single\n"
+   11 print "Activate switch to start.\n"
    12 printflush message1
    13 label __label1
    14 sensor __tmp2 switch1 @enabled
 
    96 jump __label136 greaterThan n 0
    97 label __label32
    98 jump __label35 notEqual CONTAINER null
-    * print "[salmon]No destination."
-    * print "\n"
+   99 print "[salmon]No destination.\n"
   100 jump __label36 always
   101 label __label35
   102 op notEqual __tmp34 DROP_TARGET null
 
   106 jump __label29 equal __tmp37 false
   107 print "Destination: "
   108 print CONTAINER
-    * print "\n"
-    * print "Item dump: "
+  109 print "\nItem dump: "
   110 print DROP_TARGET
   111 print "\n"
   112 print "[salmon]Item dump must be a container or a vault!"
 
   376 print ITEM
   377 print DIRECTION
   378 print LINK_TXT
-    * print "\n"
   379 sensor __tmp155 CONTAINER ITEM
-    * print "Local items: [gold]"
+  380 print "\nLocal items: [gold]"
   381 print __tmp155
   382 print "[]"
   383 jump __label109 greaterThanEq LOCAL_LIMIT 100
 
   402 sensor __tmp162 @unit @totalItems
   403 print MSG
   404 print __tmp162
-    * print "[]"
-    * print "\n"
+  405 print "[]\n"
   406 jump __label115 notEqual show_state 2
   407 sensor __tmp165 @unit @x
   408 op sub __tmp166 SRC_X __tmp165
 
   433 op floor __tmp181 loop_time
   434 print "[lightgray]Loop time: "
   435 print __tmp181
-    * print " ms[]"
-    * print "\n"
+  436 print " ms[]\n"
   437 printflush message1
   438 sensor __tmp182 switch1 @enabled
   439 jump __label70 equal __tmp182 0
 
   462 label __label127
   463 sensor __tmp196 SORTER @dead
   464 jump __label129 strictEqual __tmp196 0
-    * print "[salmon]sorter1 is missing!"
-    * print "\n"
+  465 print "[salmon]sorter1 is missing!\n"
   466 print "[gold]Please place and link sorter or inverted sorter to the processor."
   467 print "\n"
   468 printflush message1

Final code before resolving virtual instructions:

set UNIT @mega
set LINK_ID 0
set LOCAL_LIMIT 100
set REMOTE_LIMIT 100
op max LOCAL_LIMIT LOCAL_LIMIT 20
op max REMOTE_LIMIT REMOTE_LIMIT 20
label __label0
sensor __tmp2 switch1 @enabled
jump __label2 notEqual __tmp2 false
label __label135
print "Unit Transport - Single\n"
print "Activate switch to start.\n"
printflush message1
label __label1
sensor __tmp2 switch1 @enabled
jump __label135 equal __tmp2 false
label __label2
label __label3
sensor __tmp4 @unit @dead
jump __label5 strictEqual __tmp4 0
label __label6
set __fn0_first_unit null
label __label8
ubind UNIT
jump __label11 equal @unit null
set __fn0_first_unit @unit
jump __label10 always 0 0
label __label11
label __label12
print "[salmon]No unit of type "
print UNIT
print " found. 1"
printflush message1
label __label9
jump __label8 always 0 0
label __label10
label __label13
sensor __tmp10 @unit @controller
jump __label3 equal __tmp10 @this
label __label16
label __label17
ubind UNIT
print "[gold]Looking for old unit..."
printflush message1
label __label14
op notEqual __tmp13 @unit __fn0_first_unit
sensor __tmp14 __fn0_first_unit @dead
op strictEqual __tmp15 __tmp14 0
op land __tmp16 __tmp13 __tmp15
jump __label13 notEqual __tmp16 false
label __label15
label __label18
label __label20
ubind UNIT
jump __label23 notEqual @unit null
print "[salmon]No unit of type "
print UNIT
print " found. 2"
jump __label24 always 0 0
label __label23
sensor __tmp20 @unit @controlled
jump __label3 equal __tmp20 0
print "[salmon]Looking for a free "
print UNIT
print "..."
label __label25
label __label26
label __label24
printflush message1
label __label21
jump __label20 always 0 0
label __label22
label __label19
label __label7
label __label4
label __label5
sensor UNIT_CAPACITY @unit @itemCapacity
sensor __tmp24 @unit @speed
op div SPEED_SEC __tmp24 10
ucontrol flag 1 0 0 0 0
label __label27
set CONTAINER null
set DROP_TARGET null
set n @links
label __label30
jump __label32 lessThanEq n 0
label __label136
op sub n n 1
getlink block n
sensor __tmp29 block @itemCapacity
jump __label33 lessThanEq __tmp29 0
set DROP_TARGET CONTAINER
set CONTAINER block
label __label33
label __label34
label __label31
jump __label136 greaterThan n 0
label __label32
jump __label35 notEqual CONTAINER null
print "[salmon]No destination.\n"
jump __label36 always 0 0
label __label35
op notEqual __tmp34 DROP_TARGET null
sensor __tmp35 DROP_TARGET @itemCapacity
op lessThan __tmp36 __tmp35 300
op land __tmp37 __tmp34 __tmp36
jump __label29 equal __tmp37 false
print "Destination: "
print CONTAINER
print "\nItem dump: "
print DROP_TARGET
print "\n"
print "[salmon]Item dump must be a container or a vault!"
label __label37
label __label38
label __label36
printflush message1
label __label28
jump __label27 always 0 0
label __label29
set CORE null
jump __label39 notEqual LINK_ID 0
print "[gold]Locating core..."
printflush message1
ulocate building core false @copper CORE_X CORE_Y __tmp42 CORE
jump __label40 always 0 0
label __label39
print "[gold]Locating vault #"
print LINK_ID
print "..."
printflush message1
op add QUERY_FLAG 99999900 LINK_ID
set flag QUERY_FLAG
ucontrol flag QUERY_FLAG 0 0 0 0
label __label41
op equal __tmp44 flag QUERY_FLAG
sensor __tmp45 @unit @dead
op strictEqual __tmp46 __tmp45 0
op land __tmp47 __tmp44 __tmp46
jump __label43 equal __tmp47 false
ucontrol stop 0 0 0 0 0
sensor flag @unit @flag
label __label42
jump __label41 always 0 0
label __label43
jump __label44 equal flag QUERY_FLAG
op idiv position flag 100
op mod CORE_X position @mapw
op idiv CORE_Y position @mapw
label __label46
ucontrol within CORE_X CORE_Y 8 __tmp54 0
op equal __tmp55 __tmp54 false
sensor __tmp56 @unit @dead
op equal __tmp57 __tmp56 0
op land __tmp58 __tmp55 __tmp57
jump __label48 equal __tmp58 false
ucontrol approach CORE_X CORE_Y 6 0 0
label __label47
jump __label46 always 0 0
label __label48
ucontrol getBlock CORE_X CORE_Y b_type CORE __tmp60
jump __label49 equal b_type @vault
set CORE null
label __label49
label __label50
label __label44
label __label45
label __label40
jump __label51 notEqual CORE null
end
label __label51
label __label52
set SORTER sorter1
sensor sorter_type SORTER @type
label __label53
op notEqual __tmp66 sorter_type @sorter
op notEqual __tmp67 sorter_type @inverted-sorter
op land __tmp68 __tmp66 __tmp67
jump __label55 equal __tmp68 false
label __label137
print "[salmon]Block sorter1 is neither a sorter, nor an inverted sorter."
print "\n"
jump __label56 equal SORTER null
print "Block found: "
print SORTER
label __label56
label __label57
printflush message1
set SORTER sorter1
sensor sorter_type SORTER @type
label __label54
op notEqual __tmp66 sorter_type @sorter
op notEqual __tmp67 sorter_type @inverted-sorter
op land __tmp68 __tmp66 __tmp67
jump __label137 notEqual __tmp68 false
label __label55
jump __label58 notEqual sorter_type @sorter
set SHOW_REMOTE_LEVEL true
set SRC CORE
set DST CONTAINER
sensor src_capacity SRC @itemCapacity
sensor dst_capacity DST @itemCapacity
op sub __tmp76 100 REMOTE_LIMIT
op mul __tmp77 src_capacity __tmp76
op idiv LOAD_LEVEL __tmp77 100
op mul __tmp79 dst_capacity LOCAL_LIMIT
op idiv DROP_LEVEL __tmp79 100
set LOCAL_MARGIN DROP_LEVEL
set REMOTE_MARGIN LOAD_LEVEL
set DIRECTION "[] from vault #"
jump __label59 notEqual LINK_ID 0
set DIRECTION "[] from core"
jump __label59 always 0 0
label __label61
label __label58
op greaterThan SHOW_REMOTE_LEVEL LINK_ID 0
set SRC CONTAINER
set DST CORE
sensor src_capacity SRC @itemCapacity
sensor dst_capacity DST @itemCapacity
op sub __tmp86 100 LOCAL_LIMIT
op mul __tmp87 src_capacity __tmp86
op idiv LOAD_LEVEL __tmp87 100
op mul __tmp89 dst_capacity REMOTE_LIMIT
op idiv __tmp90 __tmp89 100
op equal __tmp91 LINK_ID 0
op mul __tmp92 __tmp91 UNIT_CAPACITY
op add DROP_LEVEL __tmp90 __tmp92
set LOCAL_MARGIN LOAD_LEVEL
set REMOTE_MARGIN DROP_LEVEL
set DIRECTION "[] to vault #"
jump __label63 notEqual LINK_ID 0
set DIRECTION "[] to core"
label __label63
label __label59
set LINK_TXT LINK_ID
jump __label65 notEqual LINK_ID 0
set LINK_TXT ""
label __label65
sensor SRC_X SRC @x
sensor SRC_Y SRC @y
sensor DST_X DST @x
sensor DST_Y DST @y
jump __label66 notEqual DROP_TARGET null
set DROP_TARGET CORE
set DROP_X CORE_X
set DROP_Y CORE_Y
jump __label67 always 0 0
label __label66
sensor DROP_X DROP_TARGET @x
sensor DROP_Y DROP_TARGET @y
label __label67
set LAST_ITEM @mono
set iter 0
set loop_time 0
set state 1
ucontrol stop 0 0 0 0 0
label __label68
set start @time
sensor __tmp106 @unit @dead
op strictEqual __tmp107 __tmp106 0
sensor __tmp108 @unit @controller
op notEqual __tmp109 __tmp108 @this
jump __label71 greaterThan __tmp107 __tmp109
label __label73
label __label75
ubind UNIT
jump __label78 notEqual @unit null
print "[salmon]No unit of type "
print UNIT
print " found. 2"
jump __label79 always 0 0
label __label78
sensor __tmp115 @unit @controlled
jump __label74 equal __tmp115 0
print "[salmon]Looking for a free "
print UNIT
print "..."
label __label80
label __label81
label __label79
printflush message1
label __label76
jump __label75 always 0 0
label __label77
label __label74
ucontrol flag 1 0 0 0 0
set state 1
label __label71
label __label72
sensor ITEM SORTER @config
jump __label82 equal ITEM LAST_ITEM
label __label84
jump __label86 notEqual ITEM null
label __label138
print "[salmon]No item type selected for transport."
printflush message1
sensor ITEM SORTER @config
label __label85
jump __label138 equal ITEM null
label __label86
set LAST_ITEM ITEM
set state 1
label __label82
label __label83
set show_state 0
jump __label87 notEqual state 1
sensor __tmp125 @unit @firstItem
jump __label89 notEqual __tmp125 ITEM
set state 3
jump __label90 always 0 0
label __label89
sensor __tmp128 @unit @totalItems
jump __label91 notEqual __tmp128 0
set state 2
jump __label92 always 0 0
label __label91
set MSG "\nUnloading previous items: [green]"
ucontrol approach DROP_X DROP_Y 6 0 0
ucontrol within DROP_X DROP_Y 8 __tmp131 0
jump __label93 equal __tmp131 false
ucontrol itemDrop DROP_TARGET UNIT_CAPACITY 0 0 0
label __label93
label __label94
label __label92
label __label90
label __label87
label __label88
jump __label95 notEqual state 2
ucontrol within SRC_X SRC_Y 8 __tmp135 0
jump __label97 equal __tmp135 false
sensor __tmp137 SRC ITEM
op sub __tmp138 __tmp137 LOAD_LEVEL
op max max_load __tmp138 0
ucontrol itemTake SRC ITEM max_load 0 0
sensor __tmp140 @unit @totalItems
jump __label99 lessThan __tmp140 UNIT_CAPACITY
set state 3
jump __label98 always 0 0
label __label99
set MSG "\nLoading items: [green]"
label __label100
jump __label98 always 0 0
label __label97
ucontrol approach SRC_X SRC_Y 6 0 0
set MSG "\nGoing to source: [green]"
set show_state 2
label __label98
label __label95
label __label96
jump __label101 notEqual state 3
ucontrol within DST_X DST_Y 8 __tmp145 0
jump __label103 equal __tmp145 false
sensor __tmp147 DST ITEM
op sub __tmp148 DROP_LEVEL __tmp147
op max max_drop __tmp148 0
ucontrol itemDrop DST max_drop 0 0 0
sensor __tmp150 @unit @totalItems
jump __label105 greaterThan __tmp150 0
set state 2
ucontrol approach SRC_X SRC_Y 6 0 0
jump __label104 always 0 0
label __label105
set MSG "\nDropping items: [green]"
label __label106
jump __label104 always 0 0
label __label103
ucontrol approach DST_X DST_Y 6 0 0
set MSG "\nGoing to destination: [green]"
set show_state 3
label __label104
label __label101
label __label102
jump __label107 lessThanEq iter 3
set iter 0
print "Moving [green]"
print ITEM
print DIRECTION
print LINK_TXT
sensor __tmp155 CONTAINER ITEM
print "\nLocal items: [gold]"
print __tmp155
print "[]"
jump __label109 greaterThanEq LOCAL_LIMIT 100
print " (limit [orange]"
print LOCAL_MARGIN
print "[])"
label __label109
label __label110
jump __label111 equal SHOW_REMOTE_LEVEL false
sensor __tmp159 CORE ITEM
print "\nRemote items: [gold]"
print __tmp159
print "[]"
jump __label113 greaterThanEq REMOTE_LIMIT 100
print " (limit [orange]"
print REMOTE_MARGIN
print "[])"
label __label113
label __label114
label __label111
label __label112
sensor __tmp162 @unit @totalItems
print MSG
print __tmp162
print "[]\n"
jump __label115 notEqual show_state 2
sensor __tmp165 @unit @x
op sub __tmp166 SRC_X __tmp165
sensor __tmp167 @unit @y
op sub __tmp168 SRC_Y __tmp167
op len __tmp169 __tmp166 __tmp168
op idiv __tmp170 __tmp169 SPEED_SEC
op div __tmp171 __tmp170 10
print "[]  arriving in [gold]"
print __tmp171
print " sec[]\n"
jump __label116 always 0 0
label __label115
jump __label117 notEqual show_state 3
sensor __tmp174 @unit @x
op sub __tmp175 DST_X __tmp174
sensor __tmp176 @unit @y
op sub __tmp177 DST_Y __tmp176
op len __tmp178 __tmp175 __tmp177
op idiv __tmp179 __tmp178 SPEED_SEC
op div __tmp180 __tmp179 10
print "[]  arriving in [gold]"
print __tmp180
print " sec[]\n"
label __label117
label __label118
label __label116
op floor __tmp181 loop_time 0
print "[lightgray]Loop time: "
print __tmp181
print " ms[]\n"
printflush message1
sensor __tmp182 switch1 @enabled
jump __label70 equal __tmp182 0
label __label119
label __label120
sensor __tmp185 SRC @dead
jump __label70 notEqual __tmp185 0
label __label121
label __label122
sensor __tmp188 DST @dead
jump __label70 notEqual __tmp188 0
label __label123
label __label124
sensor __tmp191 SORTER @dead
jump __label70 notEqual __tmp191 0
label __label125
label __label126
jump __label108 always 0 0
label __label107
op add iter iter 1
label __label108
op sub loop_time @time start
label __label69
jump __label68 always 0 0
label __label70
label __label127
sensor __tmp196 SORTER @dead
jump __label129 strictEqual __tmp196 0
print "[salmon]sorter1 is missing!\n"
print "[gold]Please place and link sorter or inverted sorter to the processor."
print "\n"
printflush message1
printflush message2
set SORTER sorter1
label __label128
jump __label127 always 0 0
label __label129
sensor __tmp199 SRC @dead
op strictEqual __tmp200 __tmp199 0
op equal __tmp201 __tmp200 false
sensor __tmp202 DST @dead
op strictEqual __tmp203 __tmp202 0
op equal __tmp204 __tmp203 false
op or __tmp205 __tmp201 __tmp204
jump __label130 equal __tmp205 false
control enabled switch1 false 0 0 0
label __label132
sensor __tmp207 switch1 @enabled
jump __label134 notEqual __tmp207 false
label __label139
print "[salmon]Local or remote container became invalid."
print "\n"
print "[gold]Please fix and press button to reinitialize."
print "\n"
printflush message1
printflush message2
label __label133
sensor __tmp207 switch1 @enabled
jump __label139 equal __tmp207 false
label __label134
label __label130
label __label131
end
