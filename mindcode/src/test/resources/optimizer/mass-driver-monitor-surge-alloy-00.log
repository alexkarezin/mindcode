   163 instructions before optimizations.
    10 instructions eliminated by DeadCodeEliminator (2 iterations).
     1 instructions eliminated by SingleStepJumpEliminator (1 iterations).
    13 instructions eliminated by OutputTempEliminator.
     2 instructions eliminated by ImproveNegativeConditionalJumps.
     8 instructions eliminated by JumpOverJumpEliminator.
     2 loops improved by LoopOptimizer.
     1 instructions added by LoopOptimizer.
     1 instructions eliminated by DataFlowOptimizer (2 iterations).
     4 instructions updated by PropagateJumpTargets.
     9 instructions eliminated by PrintMerger.
   120 instructions after optimizations.

Modifications by DeadCodeEliminator, iteration 1:
 
    23 jump __label7 always
    24 label __label8
    25 set MESSAGE block
-    * set __tmp5 MESSAGE
    26 jump __label6 always
    27 label __label7
    28 jump __label10 equal __ast0 @switch
    29 jump __label9 always
    30 label __label10
    31 set SWITCH block
-    * set __tmp5 SWITCH
    32 jump __label6 always
    33 label __label9
    34 jump __label12 equal __ast0 @mass-driver
 
    66 label __label20
    67 set __tmp7 null
    68 label __label13
-    * set __tmp5 __tmp7
    69 jump __label6 always
    70 label __label11
    71 jump __label23 equal __ast0 @logic-display
    72 jump __label22 always
    73 label __label23
    74 set DISPLAY block
-    * set __tmp5 DISPLAY
    75 jump __label6 always
    76 label __label22
    77 print "\n"
    78 print block
    79 print " is not supported."
-    * set __tmp5 " is not supported."
    80 label __label6
    81 print "\nNominal production: "
    82 print EXPECTED_FLOW_STR

Modifications by DeadCodeEliminator, iteration 2:
 
    40 jump __label14 always
    41 label __label15
    42 set TITANIUM block
-    * set __tmp7 TITANIUM
    43 jump __label13 always
    44 label __label14
    45 jump __label17 equal __ast1 @silicon
    46 jump __label16 always
    47 label __label17
    48 set SILICON block
-    * set __tmp7 SILICON
    49 jump __label13 always
    50 label __label16
    51 jump __label19 equal __ast1 @copper
    52 jump __label18 always
    53 label __label19
    54 set COPPER block
-    * set __tmp7 COPPER
    55 jump __label13 always
    56 label __label18
    57 jump __label21 equal __ast1 @lead
    58 jump __label20 always
    59 label __label21
    60 set LEAD block
-    * set __tmp7 LEAD
    61 jump __label13 always
    62 label __label20
-    * set __tmp7 null
    63 label __label13
    64 jump __label6 always
    65 label __label11

Modifications by SingleStepJumpEliminator, iteration 1:
 
    58 jump __label20 always
    59 label __label21
    60 set LEAD block
-    * jump __label13 always
    61 label __label20
    62 label __label13
    63 jump __label6 always

Modifications by OutputTempEliminator, iteration 1:
 
     8 print "\n"
     9 print "Configuring..."
    10 print "\n"
-    * set __tmp0 @links
-    * set n __tmp0
+   11 set n @links
    12 label __label3
    13 op greaterThan __tmp1 n 0
    14 jump __label5 equal __tmp1 false
-    * op sub __tmp2 n 1
-    * set n __tmp2
-    * getlink __tmp3 n
-    * set block __tmp3
-    * sensor __tmp4 block @type
-    * set __ast0 __tmp4
+   15 op sub n n 1
+   16 getlink block n
+   17 sensor __ast0 block @type
    18 jump __label8 equal __ast0 @message
    19 jump __label7 always
    20 label __label8
 
    30 jump __label12 equal __ast0 @mass-driver
    31 jump __label11 always
    32 label __label12
-    * sensor __tmp6 block @firstItem
-    * set __ast1 __tmp6
+   33 sensor __ast1 block @firstItem
    34 jump __label15 equal __ast1 @titanium
    35 jump __label14 always
    36 label __label15
 
   113 set ICON_SIZE 16
   114 set ICON_X 11
   115 set ICON_Y1 11
-    * op add __tmp15 ICON_Y1 ROW_HEIGHT
-    * set ICON_Y2 __tmp15
-    * op add __tmp16 ICON_Y2 ROW_HEIGHT
-    * set ICON_Y3 __tmp16
-    * op add __tmp17 ICON_Y3 ROW_HEIGHT
-    * set ICON_Y4 __tmp17
+  116 op add ICON_Y2 ICON_Y1 ROW_HEIGHT
+  117 op add ICON_Y3 ICON_Y2 ROW_HEIGHT
+  118 op add ICON_Y4 ICON_Y3 ROW_HEIGHT
   119 set BAR_X 20
   120 set BAR_Y1 4
-    * op add __tmp18 BAR_Y1 ROW_HEIGHT
-    * set BAR_Y2 __tmp18
-    * op add __tmp19 BAR_Y2 ROW_HEIGHT
-    * set BAR_Y3 __tmp19
-    * op add __tmp20 BAR_Y3 ROW_HEIGHT
-    * set BAR_Y4 __tmp20
+  121 op add BAR_Y2 BAR_Y1 ROW_HEIGHT
+  122 op add BAR_Y3 BAR_Y2 ROW_HEIGHT
+  123 op add BAR_Y4 BAR_Y3 ROW_HEIGHT
   124 set BAR_LENGTH 56
-    * op div __tmp21 BAR_LENGTH 200
-    * set MULTIPLICATOR __tmp21
+  125 op div MULTIPLICATOR BAR_LENGTH 200
   126 control enabled SWITCH 0
   127 label __label24
   128 sensor __tmp22 SWITCH @enabled
   129 op equal __tmp23 __tmp22 0
   130 jump __label26 equal __tmp23 false
-    * set __tmp24 @time
-    * set start __tmp24
+  131 set start @time
   132 draw clear 0 0 80
   133 draw color 255 255 255 255
   134 draw image ICON_X ICON_Y4 @titanium ICON_SIZE 0

Modifications by ImproveNegativeConditionalJumps, iteration 1:
 
    10 print "\n"
    11 set n @links
    12 label __label3
-    * op greaterThan __tmp1 n 0
-    * jump __label5 equal __tmp1 false
+   13 jump __label5 lessThanEq n 0
    14 op sub n n 1
    15 getlink block n
    16 sensor __ast0 block @type
 
   125 control enabled SWITCH 0
   126 label __label24
   127 sensor __tmp22 SWITCH @enabled
-    * op equal __tmp23 __tmp22 0
-    * jump __label26 equal __tmp23 false
+  128 jump __label26 notEqual __tmp22 0
   129 set start @time
   130 draw clear 0 0 80
   131 draw color 255 255 255 255

Modifications by JumpOverJumpEliminator, iteration 1:
 
    14 op sub n n 1
    15 getlink block n
    16 sensor __ast0 block @type
-    * jump __label8 equal __ast0 @message
-    * jump __label7 always
+   17 jump __label7 notEqual __ast0 @message
    18 label __label8
    19 set MESSAGE block
    20 jump __label6 always
    21 label __label7
-    * jump __label10 equal __ast0 @switch
-    * jump __label9 always
+   22 jump __label9 notEqual __ast0 @switch
    23 label __label10
    24 set SWITCH block
    25 jump __label6 always
    26 label __label9
-    * jump __label12 equal __ast0 @mass-driver
-    * jump __label11 always
+   27 jump __label11 notEqual __ast0 @mass-driver
    28 label __label12
    29 sensor __ast1 block @firstItem
-    * jump __label15 equal __ast1 @titanium
-    * jump __label14 always
+   30 jump __label14 notEqual __ast1 @titanium
    31 label __label15
    32 set TITANIUM block
    33 jump __label13 always
    34 label __label14
-    * jump __label17 equal __ast1 @silicon
-    * jump __label16 always
+   35 jump __label16 notEqual __ast1 @silicon
    36 label __label17
    37 set SILICON block
    38 jump __label13 always
    39 label __label16
-    * jump __label19 equal __ast1 @copper
-    * jump __label18 always
+   40 jump __label18 notEqual __ast1 @copper
    41 label __label19
    42 set COPPER block
    43 jump __label13 always
    44 label __label18
-    * jump __label21 equal __ast1 @lead
-    * jump __label20 always
+   45 jump __label20 notEqual __ast1 @lead
    46 label __label21
    47 set LEAD block
    48 label __label20
    49 label __label13
    50 jump __label6 always
    51 label __label11
-    * jump __label23 equal __ast0 @logic-display
-    * jump __label22 always
+   52 jump __label22 notEqual __ast0 @logic-display
    53 label __label23
    54 set DISPLAY block
    55 jump __label6 always

Modifications by LoopOptimizer, iteration 1:
 
    11 set n @links
    12 label __label3
    13 jump __label5 lessThanEq n 0
+   14 label __label27
    15 op sub n n 1
    16 getlink block n
    17 sensor __ast0 block @type
 
    66 print flow_str
    67 print "/min"
    68 label __label4
-    * jump __label3 always
+   69 jump __label27 greaterThan n 0
    70 label __label5
    71 print "Message: "
    72 print MESSAGE
 
   119 label __label24
   120 sensor __tmp22 SWITCH @enabled
   121 jump __label26 notEqual __tmp22 0
+  122 label __label28
   123 set start @time
   124 draw clear 0 0 80
   125 draw color 255 255 255 255
 
   152 print __tmp34
   153 printflush MESSAGE
   154 label __label25
-    * jump __label24 always
+  155 sensor __tmp22 SWITCH @enabled
+  156 jump __label28 equal __tmp22 0
   157 label __label26
   158 end

Modifications by DataFlowOptimizer, iteration 1:
 
    63 print EXPECTED_FLOW_STR
    64 print "/min"
    65 print "\nActual production: "
-    * print flow_str
+   66 print null
    67 print "/min"
    68 label __label4
    69 jump __label27 greaterThan n 0

Modifications by DataFlowOptimizer, iteration 2:
     0 set EXPECTED_FLOW_STR null
-    * set flow_str null
     1 label __label0
     2 set TITANIUM null
     3 set SILICON null

Modifications by PropagateJumpTargets, iteration 1:
 
    30 jump __label14 notEqual __ast1 @titanium
    31 label __label15
    32 set TITANIUM block
-    * jump __label13 always
+   33 jump __label6 always
    34 label __label14
    35 jump __label16 notEqual __ast1 @silicon
    36 label __label17
    37 set SILICON block
-    * jump __label13 always
+   38 jump __label6 always
    39 label __label16
    40 jump __label18 notEqual __ast1 @copper
    41 label __label19
    42 set COPPER block
-    * jump __label13 always
+   43 jump __label6 always
    44 label __label18
-    * jump __label20 notEqual __ast1 @lead
+   45 jump __label6 notEqual __ast1 @lead
    46 label __label21
    47 set LEAD block
    48 label __label20

Modifications by PrintMerger, iteration 1:
 
     4 set COPPER null
     5 set LEAD null
     6 print "Surge Alloy Factory Driver Monitor"
-    * print "\n"
-    * print "Configuring..."
-    * print "\n"
+    7 print "\nConfiguring...\n"
     8 set n @links
     9 label __label3
    10 jump __label5 lessThanEq n 0
 
    58 label __label6
    59 print "\nNominal production: "
    60 print EXPECTED_FLOW_STR
-    * print "/min"
-    * print "\nActual production: "
+   61 print "/min\nActual production: "
    62 print null
    63 print "/min"
    64 label __label4
 
    66 label __label5
    67 print "Message: "
    68 print MESSAGE
-    * print "\n"
-    * print "Switch: "
+   69 print "\nSwitch: "
    70 print SWITCH
-    * print "\n"
-    * print "Display: "
+   71 print "\nDisplay: "
    72 print DISPLAY
-    * print "\n"
-    * print "Titanium: "
+   73 print "\nTitanium: "
    74 print TITANIUM
-    * print "\n"
-    * print "Silicon: "
+   75 print "\nSilicon: "
    76 print SILICON
-    * print "\n"
-    * print "Copper: "
+   77 print "\nCopper: "
    78 print COPPER
-    * print "\n"
-    * print "Lead: "
+   79 print "\nLead: "
    80 print LEAD
    81 print "\n"
    82 printflush MESSAGE

Final code before resolving virtual instructions:

set EXPECTED_FLOW_STR null
label __label0
set TITANIUM null
set SILICON null
set COPPER null
set LEAD null
print "Surge Alloy Factory Driver Monitor"
print "\nConfiguring...\n"
set n @links
label __label3
jump __label5 lessThanEq n 0
label __label27
op sub n n 1
getlink block n
sensor __ast0 block @type
jump __label7 notEqual __ast0 @message
label __label8
set MESSAGE block
jump __label6 always 0 0
label __label7
jump __label9 notEqual __ast0 @switch
label __label10
set SWITCH block
jump __label6 always 0 0
label __label9
jump __label11 notEqual __ast0 @mass-driver
label __label12
sensor __ast1 block @firstItem
jump __label14 notEqual __ast1 @titanium
label __label15
set TITANIUM block
jump __label6 always 0 0
label __label14
jump __label16 notEqual __ast1 @silicon
label __label17
set SILICON block
jump __label6 always 0 0
label __label16
jump __label18 notEqual __ast1 @copper
label __label19
set COPPER block
jump __label6 always 0 0
label __label18
jump __label6 notEqual __ast1 @lead
label __label21
set LEAD block
label __label20
label __label13
jump __label6 always 0 0
label __label11
jump __label22 notEqual __ast0 @logic-display
label __label23
set DISPLAY block
jump __label6 always 0 0
label __label22
print "\n"
print block
print " is not supported."
label __label6
print "\nNominal production: "
print EXPECTED_FLOW_STR
print "/min\nActual production: "
print null
print "/min"
label __label4
jump __label27 greaterThan n 0
label __label5
print "Message: "
print MESSAGE
print "\nSwitch: "
print SWITCH
print "\nDisplay: "
print DISPLAY
print "\nTitanium: "
print TITANIUM
print "\nSilicon: "
print SILICON
print "\nCopper: "
print COPPER
print "\nLead: "
print LEAD
print "\n"
printflush MESSAGE
label __label1
op equal __tmp8 TITANIUM null
op equal __tmp9 SILICON null
op or __tmp10 __tmp8 __tmp9
op equal __tmp11 COPPER null
op or __tmp12 __tmp10 __tmp11
op equal __tmp13 LEAD null
op or __tmp14 __tmp12 __tmp13
jump __label0 notEqual __tmp14 false
label __label2
set ROW_HEIGHT 19
set BAR_HEIGHT 14
set ICON_SIZE 16
set ICON_X 11
set ICON_Y1 11
op add ICON_Y2 ICON_Y1 ROW_HEIGHT
op add ICON_Y3 ICON_Y2 ROW_HEIGHT
op add ICON_Y4 ICON_Y3 ROW_HEIGHT
set BAR_X 20
set BAR_Y1 4
op add BAR_Y2 BAR_Y1 ROW_HEIGHT
op add BAR_Y3 BAR_Y2 ROW_HEIGHT
op add BAR_Y4 BAR_Y3 ROW_HEIGHT
set BAR_LENGTH 56
op div MULTIPLICATOR BAR_LENGTH 200
control enabled SWITCH 0 0 0 0
label __label24
sensor __tmp22 SWITCH @enabled
jump __label26 notEqual __tmp22 0
label __label28
set start @time
draw clear 0 0 80 0 0 0
draw color 255 255 255 255 0 0
draw image ICON_X ICON_Y4 @titanium ICON_SIZE 0 0
draw image ICON_X ICON_Y3 @silicon ICON_SIZE 0 0
draw image ICON_X ICON_Y2 @copper ICON_SIZE 0 0
draw image ICON_X ICON_Y1 @lead ICON_SIZE 0 0
draw color 0 128 0 255 0 0
sensor __tmp25 TITANIUM @totalItems
op mul __tmp26 __tmp25 MULTIPLICATOR
draw rect BAR_X BAR_Y4 __tmp26 BAR_HEIGHT 0 0
sensor __tmp27 SILICON @totalItems
op mul __tmp28 __tmp27 MULTIPLICATOR
draw rect BAR_X BAR_Y3 __tmp28 BAR_HEIGHT 0 0
sensor __tmp29 COPPER @totalItems
op mul __tmp30 __tmp29 MULTIPLICATOR
draw rect BAR_X BAR_Y2 __tmp30 BAR_HEIGHT 0 0
sensor __tmp31 LEAD @totalItems
op mul __tmp32 __tmp31 MULTIPLICATOR
draw rect BAR_X BAR_Y1 __tmp32 BAR_HEIGHT 0 0
draw color 0 255 0 255 0 0
draw lineRect BAR_X BAR_Y4 BAR_LENGTH BAR_HEIGHT 0 0
draw lineRect BAR_X BAR_Y3 BAR_LENGTH BAR_HEIGHT 0 0
draw lineRect BAR_X BAR_Y2 BAR_LENGTH BAR_HEIGHT 0 0
draw lineRect BAR_X BAR_Y1 BAR_LENGTH BAR_HEIGHT 0 0
drawflush DISPLAY
print "Surge Alloy Factory Driver Monitor\nElapsed (ms): "
op sub __tmp33 @time start
op floor __tmp34 __tmp33 0
print __tmp34
printflush MESSAGE
label __label25
sensor __tmp22 SWITCH @enabled
jump __label28 equal __tmp22 0
label __label26
end
