    66 instructions before optimizations.
     4 instructions eliminated by DeadCodeEliminator (1 iterations).
     2 instructions eliminated by SingleStepJumpEliminator (1 iterations).
     3 instructions eliminated by OutputTempEliminator.
     4 instructions eliminated by ImproveNegativeConditionalJumps.
     2 instructions eliminated by JumpOverJumpEliminator.
     1 instructions eliminated by IfExpressionOptimizer.
     5 instructions eliminated by DataFlowOptimizer (2 iterations).
     1 instructions eliminated by UnreachableCodeEliminator (1 iterations).
     1 instructions eliminated by SingleStepJumpEliminator (1 iterations).
     4 instructions eliminated by StackUsageOptimizer.
    39 instructions after optimizations.

Modifications by DeadCodeEliminator, iteration 1:
 
    18 op equal __tmp4 __retval3 4
    19 jump __label7 equal __tmp4 false
    20 jump __label2 always
-    * set __tmp5 null
    21 jump __label8 always
    22 label __label7
-    * set __tmp5 null
    23 label __label8
    24 print i
    25 print j
 
    30 op equal __tmp7 __retval6 10
    31 jump __label10 equal __tmp7 false
    32 jump __label3 always
-    * set __tmp8 null
    33 jump __label11 always
    34 label __label10
-    * set __tmp8 null
    35 label __label11
    36 label __label2
    37 op add __tmp9 i 2

Modifications by SingleStepJumpEliminator, iteration 1:
 
    18 op equal __tmp4 __retval3 4
    19 jump __label7 equal __tmp4 false
    20 jump __label2 always
-    * jump __label8 always
    21 label __label7
    22 label __label8
    23 print i
 
    29 op equal __tmp7 __retval6 10
    30 jump __label10 equal __tmp7 false
    31 jump __label3 always
-    * jump __label11 always
    32 label __label10
    33 label __label11
    34 label __label2

Modifications by OutputTempEliminator, iteration 1:
 
    32 label __label10
    33 label __label11
    34 label __label2
-    * op add __tmp9 i 2
-    * set i __tmp9
-    * op add __tmp10 j 1
-    * set j __tmp10
+   35 op add i i 2
+   36 op add j j 1
    37 jump __label1 always
    38 label __label3
    39 end
 
    47 label __label15
    48 pop bank1 __fn0_n
    49 set __retval14 __fn0retval
-    * op mul __tmp15 -1 __retval14
-    * set __tmp12 __tmp15
+   50 op mul __tmp12 -1 __retval14
    51 jump __label14 always
    52 label __label13
    53 set __tmp12 __fn0_n

Modifications by ImproveNegativeConditionalJumps, iteration 1:
 
     9 callrec bank1 __label0 __label5
    10 label __label5
    11 set __retval1 __fn0retval
-    * op lessThanEq __tmp2 __retval0 __retval1
-    * jump __label3 equal __tmp2 false
+   12 jump __label3 greaterThan __retval0 __retval1
    13 set __fn0_n i
    14 callrec bank1 __label0 __label6
    15 label __label6
    16 set __retval3 __fn0retval
-    * op equal __tmp4 __retval3 4
-    * jump __label7 equal __tmp4 false
+   17 jump __label7 notEqual __retval3 4
    18 jump __label2 always
    19 label __label7
    20 label __label8
 
    24 callrec bank1 __label0 __label9
    25 label __label9
    26 set __retval6 __fn0retval
-    * op equal __tmp7 __retval6 10
-    * jump __label10 equal __tmp7 false
+   27 jump __label10 notEqual __retval6 10
    28 jump __label3 always
    29 label __label10
    30 label __label11
 
    35 label __label3
    36 end
    37 label __label0
-    * op greaterThan __tmp11 __fn0_n 0
-    * jump __label13 equal __tmp11 false
+   38 jump __label13 lessThanEq __fn0_n 0
    39 op mul __tmp13 -1 __fn0_n
    40 push bank1 __fn0_n
    41 set __fn0_n __tmp13

Modifications by JumpOverJumpEliminator, iteration 1:
 
    14 callrec bank1 __label0 __label6
    15 label __label6
    16 set __retval3 __fn0retval
-    * jump __label7 notEqual __retval3 4
-    * jump __label2 always
+   17 jump __label2 equal __retval3 4
    18 label __label7
    19 label __label8
    20 print i
 
    23 callrec bank1 __label0 __label9
    24 label __label9
    25 set __retval6 __fn0retval
-    * jump __label10 notEqual __retval6 10
-    * jump __label3 always
+   26 jump __label3 equal __retval6 10
    27 label __label10
    28 label __label11
    29 label __label2

Modifications by IfExpressionOptimizer, iteration 1:
 
    33 label __label3
    34 end
    35 label __label0
-    * jump __label13 lessThanEq __fn0_n 0
+   36 set __fn0retval __fn0_n
+   37 jump __label14 lessThanEq __fn0_n 0
    38 op mul __tmp13 -1 __fn0_n
    39 push bank1 __fn0_n
    40 set __fn0_n __tmp13
 
    42 label __label15
    43 pop bank1 __fn0_n
    44 set __retval14 __fn0retval
-    * op mul __tmp12 -1 __retval14
+   45 op mul __fn0retval -1 __retval14
    46 jump __label14 always
-    * label __label13
-    * set __tmp12 __fn0_n
    47 label __label14
-    * set __fn0retval __tmp12
    48 label __label12
    49 return bank1
    50 end

Modifications by DataFlowOptimizer, iteration 1:
 
     9 callrec bank1 __label0 __label5
    10 label __label5
    11 set __retval1 __fn0retval
-    * jump __label3 greaterThan __retval0 __retval1
+   12 jump __label3 greaterThan __retval0 __fn0retval
    13 set __fn0_n i
    14 callrec bank1 __label0 __label6
    15 label __label6
    16 set __retval3 __fn0retval
-    * jump __label2 equal __retval3 4
+   17 jump __label2 equal __fn0retval 4
    18 label __label7
    19 label __label8
    20 print i
 
    23 callrec bank1 __label0 __label9
    24 label __label9
    25 set __retval6 __fn0retval
-    * jump __label3 equal __retval6 10
+   26 jump __label3 equal __fn0retval 10
    27 label __label10
    28 label __label11
    29 label __label2
 
    37 jump __label14 lessThanEq __fn0_n 0
    38 op mul __tmp13 -1 __fn0_n
    39 push bank1 __fn0_n
-    * set __fn0_n __tmp13
+   40 op mul __fn0_n -1 __fn0_n
    41 callrec bank1 __label0 __label15
    42 label __label15
    43 pop bank1 __fn0_n
    44 set __retval14 __fn0retval
-    * op mul __fn0retval -1 __retval14
+   45 op mul __fn0retval -1 __fn0retval
    46 jump __label14 always
    47 label __label14
    48 label __label12

Modifications by DataFlowOptimizer, iteration 2:
 
     8 set __fn0_n j
     9 callrec bank1 __label0 __label5
    10 label __label5
-    * set __retval1 __fn0retval
    11 jump __label3 greaterThan __retval0 __fn0retval
    12 set __fn0_n i
    13 callrec bank1 __label0 __label6
    14 label __label6
-    * set __retval3 __fn0retval
    15 jump __label2 equal __fn0retval 4
    16 label __label7
    17 label __label8
 
    20 set __fn0_n i
    21 callrec bank1 __label0 __label9
    22 label __label9
-    * set __retval6 __fn0retval
    23 jump __label3 equal __fn0retval 10
    24 label __label10
    25 label __label11
 
    32 label __label0
    33 set __fn0retval __fn0_n
    34 jump __label14 lessThanEq __fn0_n 0
-    * op mul __tmp13 -1 __fn0_n
    35 push bank1 __fn0_n
    36 op mul __fn0_n -1 __fn0_n
    37 callrec bank1 __label0 __label15
    38 label __label15
    39 pop bank1 __fn0_n
-    * set __retval14 __fn0retval
    40 op mul __fn0retval -1 __fn0retval
    41 jump __label14 always
    42 label __label14

Modifications by UnreachableCodeEliminator, iteration 1:
 
    42 label __label14
    43 label __label12
    44 return bank1
-    * end

Modifications by SingleStepJumpEliminator, iteration 1:
 
    38 label __label15
    39 pop bank1 __fn0_n
    40 op mul __fn0retval -1 __fn0retval
-    * jump __label14 always
    41 label __label14
    42 label __label12
    43 return bank1

Modifications by StackUsageOptimizer, iteration 1:
 
    32 label __label0
    33 set __fn0retval __fn0_n
    34 jump __label14 lessThanEq __fn0_n 0
-    * push bank1 __fn0_n
    35 op mul __fn0_n -1 __fn0_n
    36 callrec bank1 __label0 __label15
    37 label __label15
-    * pop bank1 __fn0_n
    38 op mul __fn0retval -1 __fn0retval
    39 label __label14
    40 label __label12

Final code before resolving virtual instructions:

set __sp 0
set i 0
set j 10
label __label1
set __fn0_n i
callrec bank1 __label0 __label4
label __label4
set __retval0 __fn0retval
set __fn0_n j
callrec bank1 __label0 __label5
label __label5
jump __label3 greaterThan __retval0 __fn0retval
set __fn0_n i
callrec bank1 __label0 __label6
label __label6
jump __label2 equal __fn0retval 4
label __label7
label __label8
print i
print j
set __fn0_n i
callrec bank1 __label0 __label9
label __label9
jump __label3 equal __fn0retval 10
label __label10
label __label11
label __label2
op add i i 2
op add j j 1
jump __label1 always 0 0
label __label3
end
label __label0
set __fn0retval __fn0_n
jump __label14 lessThanEq __fn0_n 0
op mul __fn0_n -1 __fn0_n
callrec bank1 __label0 __label15
label __label15
op mul __fn0retval -1 __fn0retval
label __label14
label __label12
return bank1
