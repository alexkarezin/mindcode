    43 instructions before optimizations.
     2 instructions eliminated by OutputTempEliminator.
     2 instructions eliminated by ImproveNegativeConditionalJumps.
     1 loops improved by LoopOptimizer.
     1 instructions eliminated by IfExpressionOptimizer.
     4 instructions eliminated by DataFlowOptimizer (3 iterations).
     1 instructions eliminated by UnreachableCodeEliminator (1 iterations).
     1 instructions eliminated by SingleStepJumpEliminator (1 iterations).
     4 instructions eliminated by StackUsageOptimizer.
    28 instructions after optimizations.

Modifications by OutputTempEliminator, iteration 1:
 
    14 op add __tmp3 j i
    15 set j __tmp3
    16 print __tmp3
-    * op add __tmp4 i 1
-    * set i __tmp4
+   17 op add i i 1
    18 label __label4
    19 jump __label3 always
    20 label __label5
 
    29 label __label9
    30 pop bank1 __fn0_n
    31 set __retval8 __fn0retval
-    * op mul __tmp9 -1 __retval8
-    * set __tmp6 __tmp9
+   32 op mul __tmp6 -1 __retval8
    33 jump __label8 always
    34 label __label7
    35 set __tmp6 __fn0_n

Modifications by ImproveNegativeConditionalJumps, iteration 1:
 
     9 set __retval1 __fn0retval
    10 set i __retval1
    11 label __label3
-    * op lessThan __tmp2 i 10
-    * jump __label5 equal __tmp2 false
+   12 jump __label5 greaterThanEq i 10
    13 op add __tmp3 j i
    14 set j __tmp3
    15 print __tmp3
 
    19 label __label5
    20 end
    21 label __label0
-    * op greaterThan __tmp5 __fn0_n 0
-    * jump __label7 equal __tmp5 false
+   22 jump __label7 lessThanEq __fn0_n 0
    23 op mul __tmp7 -1 __fn0_n
    24 push bank1 __fn0_n
    25 set __fn0_n __tmp7

Modifications by LoopOptimizer, iteration 1:
 
    10 set i __retval1
    11 label __label3
    12 jump __label5 greaterThanEq i 10
+   13 label __label10
    14 op add __tmp3 j i
    15 set j __tmp3
    16 print __tmp3
    17 op add i i 1
    18 label __label4
-    * jump __label3 always
+   19 jump __label10 lessThan i 10
    20 label __label5
    21 end
    22 label __label0

Modifications by IfExpressionOptimizer, iteration 1:
 
    20 label __label5
    21 end
    22 label __label0
-    * jump __label7 lessThanEq __fn0_n 0
+   23 set __fn0retval __fn0_n
+   24 jump __label8 lessThanEq __fn0_n 0
    25 op mul __tmp7 -1 __fn0_n
    26 push bank1 __fn0_n
    27 set __fn0_n __tmp7
 
    29 label __label9
    30 pop bank1 __fn0_n
    31 set __retval8 __fn0retval
-    * op mul __tmp6 -1 __retval8
+   32 op mul __fn0retval -1 __retval8
    33 jump __label8 always
-    * label __label7
-    * set __tmp6 __fn0_n
    34 label __label8
-    * set __fn0retval __tmp6
    35 label __label6
    36 return bank1
    37 end

Modifications by DataFlowOptimizer, iteration 1:
 
     2 callrec bank1 __label0 __label1
     3 label __label1
     4 set __retval0 __fn0retval
-    * set j __retval0
-    * set __fn0_n __retval0
+    5 set j __fn0retval
+    6 set __fn0_n __fn0retval
     7 callrec bank1 __label0 __label2
     8 label __label2
     9 set __retval1 __fn0retval
-    * set i __retval1
+   10 set i __fn0retval
    11 label __label3
-    * jump __label5 greaterThanEq i 10
+   12 jump __label5 greaterThanEq __retval1 10
    13 label __label10
    14 op add __tmp3 j i
    15 set j __tmp3
 
    24 jump __label8 lessThanEq __fn0_n 0
    25 op mul __tmp7 -1 __fn0_n
    26 push bank1 __fn0_n
-    * set __fn0_n __tmp7
+   27 op mul __fn0_n -1 __fn0_n
    28 callrec bank1 __label0 __label9
    29 label __label9
    30 pop bank1 __fn0_n
    31 set __retval8 __fn0retval
-    * op mul __fn0retval -1 __retval8
+   32 op mul __fn0retval -1 __fn0retval
    33 jump __label8 always
    34 label __label8
    35 label __label6

Modifications by DataFlowOptimizer, iteration 2:
 
     1 set __fn0_n 0
     2 callrec bank1 __label0 __label1
     3 label __label1
-    * set __retval0 __fn0retval
     4 set j __fn0retval
     5 set __fn0_n __fn0retval
     6 callrec bank1 __label0 __label2
 
     8 set __retval1 __fn0retval
     9 set i __fn0retval
    10 label __label3
-    * jump __label5 greaterThanEq __retval1 10
+   11 jump __label5 greaterThanEq __fn0retval 10
    12 label __label10
    13 op add __tmp3 j i
    14 set j __tmp3
 
    21 label __label0
    22 set __fn0retval __fn0_n
    23 jump __label8 lessThanEq __fn0_n 0
-    * op mul __tmp7 -1 __fn0_n
    24 push bank1 __fn0_n
    25 op mul __fn0_n -1 __fn0_n
    26 callrec bank1 __label0 __label9
    27 label __label9
    28 pop bank1 __fn0_n
-    * set __retval8 __fn0retval
    29 op mul __fn0retval -1 __fn0retval
    30 jump __label8 always
    31 label __label8

Modifications by DataFlowOptimizer, iteration 3:
 
     5 set __fn0_n __fn0retval
     6 callrec bank1 __label0 __label2
     7 label __label2
-    * set __retval1 __fn0retval
     8 set i __fn0retval
     9 label __label3
    10 jump __label5 greaterThanEq __fn0retval 10

Modifications by UnreachableCodeEliminator, iteration 1:
 
    30 label __label8
    31 label __label6
    32 return bank1
-    * end

Modifications by SingleStepJumpEliminator, iteration 1:
 
    26 label __label9
    27 pop bank1 __fn0_n
    28 op mul __fn0retval -1 __fn0retval
-    * jump __label8 always
    29 label __label8
    30 label __label6
    31 return bank1

Modifications by StackUsageOptimizer, iteration 1:
 
    20 label __label0
    21 set __fn0retval __fn0_n
    22 jump __label8 lessThanEq __fn0_n 0
-    * push bank1 __fn0_n
    23 op mul __fn0_n -1 __fn0_n
    24 callrec bank1 __label0 __label9
    25 label __label9
-    * pop bank1 __fn0_n
    26 op mul __fn0retval -1 __fn0retval
    27 label __label8
    28 label __label6

Final code before resolving virtual instructions:

set __sp 0
set __fn0_n 0
callrec bank1 __label0 __label1
label __label1
set j __fn0retval
set __fn0_n __fn0retval
callrec bank1 __label0 __label2
label __label2
set i __fn0retval
label __label3
jump __label5 greaterThanEq __fn0retval 10
label __label10
op add __tmp3 j i
set j __tmp3
print __tmp3
op add i i 1
label __label4
jump __label10 lessThan i 10
label __label5
end
label __label0
set __fn0retval __fn0_n
jump __label8 lessThanEq __fn0_n 0
op mul __fn0_n -1 __fn0_n
callrec bank1 __label0 __label9
label __label9
op mul __fn0retval -1 __fn0retval
label __label8
label __label6
return bank1
